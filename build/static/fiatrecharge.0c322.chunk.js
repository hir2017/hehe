webpackJsonp([4],{1006:function(e,t,a){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,i=a(27),f=n(i),s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(29);var m=a(0),d=n(m),p=a(7),E=a(10),b=a(1730),h=n(b),v=(f.default.Option,(u=(0,p.inject)("commonStore","userInfoStore"))(c=(0,p.observer)(c=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.clickAuthUserIDCard=function(e){E.browserHistory.push("/user/authentication")},a.clickSetBankInfo=function(e){E.browserHistory.push("/user/bankInfo")},a}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.userInfoStore.getUserInfo()}},{key:"render",value:function(){var e=void 0,t=this.props.userInfoStore;return e=0==t.isFetchingInfo?0==t.userInfo.authLevel?d.default.createElement("div",{className:"userauth-guide"},d.default.createElement("h4",null,UPEX.lang.template("请您进行身份认证，否则无法进行充值、提现、充币、提币操作")),d.default.createElement("button",{onClick:this.clickAuthUserIDCard},UPEX.lang.template("身份认证"))):1==t.userInfo.authLevel?d.default.createElement("div",{className:"userauth-guide"},d.default.createElement("h4",null,UPEX.lang.template("请您先绑定银行卡信息，否则无法进行充值、提现操作")),d.default.createElement("button",{onClick:this.clickSetBankInfo},UPEX.lang.template("绑定银行卡信息"))):d.default.createElement(h.default,null):d.default.createElement("div",{className:"mini-loading"}),d.default.createElement("div",{className:"rw-wrapper r-fait-wrapper"},d.default.createElement("div",{className:"module-box"},d.default.createElement("h2",{className:"title"},UPEX.lang.template("账户充值")),d.default.createElement("div",{className:"content"},e)))}}]),t}(m.Component))||c)||c);t.default=v},1730:function(e,t,a){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,i=a(27),f=n(i),s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(29);var m=a(0),d=n(m),p=a(7),E=a(10),b=a(1731),h=n(b),v=a(459),g=n(v),P=a(460),y=n(P),w=f.default.Option,O=function(){return[{val:"PD-ATM-CTCB",label:UPEX.lang.template("中國信託實體ATM")},{val:"PD-ATM-HNCB",label:UPEX.lang.template("華南實體ATM")},{val:"PD-ATM-SINOPAC",label:UPEX.lang.template("永豐實體ATM")},{val:"PD-ATM-SCSB",label:UPEX.lang.template("上海商銀即時ATM")},{val:"PD-WEBATM-TCB",label:UPEX.lang.template("合庫WEBATM")},{val:"PD-WEBATM-CTCB",label:UPEX.lang.template("中國信託WEB-ATM")},{val:"PD-WEBATM-HNCB",label:UPEX.lang.template("華南WEB-ATM")},{val:"PD-WEBATM-TSCB",label:UPEX.lang.template("台新WEB-ATM")},{val:"PD-WEBATM-SINOPAC",label:UPEX.lang.template("永豐WEB-ATM")},{val:"PD-WEBATM-ESUN",label:UPEX.lang.template("玉山銀行WEB-ATM")}]},_=(u=(0,p.inject)("fiatRechargeStore"))(c=(0,p.observer)(c=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleOrder=function(e){a.action.handleRecharge()},a.onConfirm=function(e){E.browserHistory.push("/account/fiatrecord")},a.action=(0,h.default)(a.props.fiatRechargeStore),a}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.fiatRechargeStore.resetProps(),this.props.fiatRechargeStore.getInfo()}},{key:"render",value:function(){var e=this.props.fiatRechargeStore,t=void 0;if("success"==e.step){var a=e.selectBindCardInfo,n={labels:{title:UPEX.lang.template("充值信息确认"),card:UPEX.lang.template("充值银行卡"),count:UPEX.lang.template("充值金额")},count:e.balance,card:a.cardNo,user:a.cardName,bank:a.openBank};t=d.default.createElement("div",{className:"rw-form"},d.default.createElement(y.default,n),d.default.createElement("div",{className:"rw-form-item"},d.default.createElement("label",{className:"rw-form-label"}),d.default.createElement("div",{className:"rw-form-info"},d.default.createElement("button",{className:"submit-btn",onClick:this.onConfirm},UPEX.lang.template("已完成支付")))))}else{var r=function(t,a){e.setVal(t,a)},l={type:"recharge",setVal:r,cards:e.bankCardsList,count:e.accountAmount,labels:{card:UPEX.lang.template("选择充值的银行卡"),balance:UPEX.lang.template("充值金额")}};t=d.default.createElement("div",{className:"rw-form"},d.default.createElement(g.default,l),d.default.createElement("div",{className:"rw-form-item"},d.default.createElement("label",{className:"rw-form-label"},UPEX.lang.template("金流類型")),d.default.createElement("div",{className:"rw-form-info"},d.default.createElement(f.default,{defaultValue:e.cashType,onChange:function(e){r(e,"cashType")}},O().map(function(e,t){return d.default.createElement(w,{key:t,value:e.val},e.label)})))),d.default.createElement("div",{className:"rw-form-item"},d.default.createElement("div",{className:"rw-form-info"},d.default.createElement("button",{className:"submit-btn",onClick:this.handleOrder},UPEX.lang.template("去网上银行充值")))))}return d.default.createElement("div",null,t,d.default.createElement("div",{className:"rw-form"},d.default.createElement("div",{className:"rw-form-info"},d.default.createElement("div",{className:"warmprompt"},d.default.createElement("h4",{className:"warmprompt-title"},UPEX.lang.template("充值遇到了问题")),d.default.createElement("div",{className:"warmprompt-content"},d.default.createElement("ul",null,d.default.createElement("li",null,UPEX.lang.template("我們只支持已綁定的銀行卡充值，如沒有綁定銀行賬戶，請先綁定;")),d.default.createElement("li",null,UPEX.lang.template("不同銀行資金到賬時間不一樣。如果充值后資金未幾時到賬，請聯繫您的銀行；")),d.default.createElement("li",null,UPEX.lang.template("如遇任何充值問題請聯繫我們的客服 support@acex.one"))))))))}}]),t}(m.Component))||c)||c;t.default=_},1731:function(e,t,a){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(18),l=n(r);a(19);var o=a(15),u=(a(10),a(48)),c=(n(u),{SYS_CODE:"",SHOP_CODE:"",SHOP_ID:"",ORDER_ID:"",ORDER_ITEM:"",AMOUNT:"",CURRENCY:"",CHECK_CODE:"",PAY_TYPE:"",SUB_PAY_TYPE:"",PROD_ID:"",SHOP_PARA:""});t.default=function(e){return{getInfo:function(){e.getInfo()},fields:{},initForm:function(){var e;return e=$("<form/>"),$("body").append(e),e},handleRecharge:function(){return e.selectedCard&&"none"!==e.selectedCard?e.balance?void(e.$submiting||this.order()):void l.default.error(UPEX.lang.template("请填写充值金额")):void l.default.error(UPEX.lang.template("请选择一张绑定的银行卡"))},order:function(){var t=this;(0,o.orderFiatRecharge)({prodId:e.cashType,amount:e.balance,accountCode:e.selectedCard}).then(function(a){if(200==a.status){e.orderSuccess();var n=void 0;n=a.attachment||"{}";try{n=JSON.parse(n)}catch(e){n={}}t.submitOrder(n)}else l.default.error(a.message);e.changeSubmitingStatusTo(!1)}).catch(function(t){e.changeSubmitingStatusTo(!1)})},submitOrder:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){e=Object.assign(c,e);var a=this.nodeForm,n=void 0,r=void 0,l=void 0;a||(a=this.initForm()),a.attr("action","https://gate.pepay.com.tw/pepay/payselect_amt.php"),a.attr("method","post"),a.attr("target",!0===t?"_blank":"string"==typeof t?t:"_self"),n=this.fields;for(l in n)n.hasOwnProperty(l)&&(r=n[l])&&(e.hasOwnProperty(l)?r.value=void 0==e[l]?"":e[l]:r.remove());for(l in e)e.hasOwnProperty(l)&&!(r=n[l])&&a.append(n[l]=$("<input type='hidden' name='"+l+"' value='"+(void 0==e[l]?"":e[l])+"'/>"));a.submit()}}}}}});
//# sourceMappingURL=fiatrecharge.0c322.chunk.js.map