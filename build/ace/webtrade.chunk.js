webpackJsonp([0],{1e3:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),f=a(0),m=r(f),p=a(7),h=a(1022),b=r(h),y=a(1028),v=r(y),g=a(1029),E=r(g),P=a(1032),C=r(P),k=a(1042),S=r(k),w=a(1043),N=r(w),T=(i=(0,p.inject)("commonStore","currencyStore","tradeStore"))(u=(0,p.observer)(u=function(e){function t(e){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),d(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.currencyStore;e.commonStore.getAllCoinPoint(),t.getAllCurrencyRelations(),$("html").addClass("exc-html-trade")}},{key:"componentWillUnmount",value:function(){$("html").removeClass("exc-html-trade")}},{key:"render",value:function(){var e=this.props,t=e.tradeStore,a=e.currencyStore,r=e.commonStore;return a.currencyDataReady&&r.productDataReady?m.default.createElement(_,this.props):m.default.createElement("div",{className:"trade-wrapper",style:{height:t.contentHeight}},m.default.createElement("div",{className:"mini-loading"}))}}]),t}(f.Component))||u)||u,_=(s=(0,p.inject)("tradeStore","commonStore","authStore"))(c=(0,p.observer)(c=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.action=(0,N.default)(a.props.tradeStore,a.props.currencyStore),a.state={data:null},a}return o(t,e),d(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.tradeStore,a=e.currencyStore,r=e.authStore,n=this.props.params.pair;if(n){var l=a.getCurrencyByPair(n),o=l.baseCurrencyId,i=l.tradeCurrencyId;if(!o||!i)return void UPEX.cache.removeCache("currentCoin");if(t.updateTradePair({baseCurrencyId:o,tradeCurrencyId:i}),this.action.getCurrentCoin(),this.action.listenQuoteNotify(),this.action.sendSubscribe(),this.action.getEntrust(),this.action.getTradeHistory(),r.isLogin){var u=r.uid,s=r.token;this.action.getUserAccount(u,s),this.action.bindOrderSocket(u,s),this.action.getPersonalTradingPwd()}this.setState({data:l}),UPEX.cache.setCache("currentCoin",{baseCurrencyNameEn:l.baseCurrencyNameEn,currencyNameEn:l.tradeCurrencyNameEn}),setTimeout(function(){try{zE(function(){zE.hide()})}catch(e){console.error("TradeContent componentWillMount",e)}},500)}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.authStore,a=t.uid,r=t.token;$.channel.on("updateUserAccount",function(){e.action.getUserAccount(a,r)})}},{key:"componentWillUnmount",value:function(){this.action.destroy();try{setTimeout(function(){zE(function(){zE.show()})},400)}catch(e){console.error("trade-center componentWillUnmount",e)}}},{key:"render",value:function(){var e=this.props.tradeStore,t=this.state.data;return m.default.createElement("div",{className:"trade-wrapper",style:{height:e.contentHeight}},m.default.createElement("div",{className:"trade-main"},m.default.createElement("div",{className:"trade-main-chart grid-box "+(e.expandOrderTable?"hidden":""),style:{height:e.mainChartHeight}},t?m.default.createElement(b.default,{key:""+t.baseCurrencyId+t.currencyId,data:t}):null),m.default.createElement("div",{className:"trade-main-order grid-box",style:{height:e.mainOrderHeight}},m.default.createElement(S.default,null))),m.default.createElement("div",{className:"trade-extra"},m.default.createElement("div",{className:"trade-extra-list clearfix"},m.default.createElement("div",{className:"list-box-l grid-box"},m.default.createElement(E.default,null)),m.default.createElement("div",{className:"list-box-r grid-box"},m.default.createElement(v.default,null))),m.default.createElement("div",{className:"trade-extra-handle grid-box"},t?m.default.createElement(C.default,{data:t}):null)))}}]),t}(f.Component))||c)||c;t.default=T},1003:function(e,t,a){"use strict";function r(e,t){return Object.keys(t).some(function(a){return e.target===(0,h.findDOMNode)(t[a])})}function n(e,t){var a=t.min,r=t.max;return e<a||e>r}function l(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function o(e,t){var a=t.marks,r=t.step,n=t.min,l=Object.keys(a).map(parseFloat);if(null!==r){var o=Math.round((e-n)/r)*r+n;l.push(o)}var i=l.map(function(t){return Math.abs(e-t)});return l[i.indexOf(Math.min.apply(Math,i))]}function i(e){var t=e.toString(),a=0;return t.indexOf(".")>=0&&(a=t.length-t.indexOf(".")-1),a}function u(e,t){return e?t.clientY:t.pageX}function s(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function c(e,t){var a=t.getBoundingClientRect();return e?a.top+.5*a.height:a.left+.5*a.width}function d(e,t){var a=t.max,r=t.min;return e<=r?r:e>=a?a:e}function f(e,t){var a=t.step,r=o(e,t);return null===a?r:parseFloat(r.toFixed(i(a)))}function m(e){e.stopPropagation(),e.preventDefault()}function p(e){switch(e.keyCode){case y.default.UP:case y.default.RIGHT:return function(e,t){return e+t.step};case y.default.DOWN:case y.default.LEFT:return function(e,t){return e-t.step};case y.default.END:return function(e,t){return t.max};case y.default.HOME:return function(e,t){return t.min};case y.default.PAGE_UP:return function(e,t){return e+2*t.step};case y.default.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}}t.__esModule=!0,t.isEventFromHandle=r,t.isValueOutOfRange=n,t.isNotTouchEvent=l,t.getClosestPoint=o,t.getPrecision=i,t.getMousePosition=u,t.getTouchPosition=s,t.getHandleCenterPosition=c,t.ensureValueInRange=d,t.ensureValuePrecision=f,t.pauseEvent=m,t.getKeyboardValueMutator=p;var h=a(13),b=a(223),y=function(e){return e&&e.__esModule?e:{default:e}}(b)},1004:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(6),l=r(n),o=a(0),i=r(o),u=function(e){var t=e.className,a=e.included,r=e.vertical,n=e.offset,o=e.length,u=e.style,s=r?{bottom:n+"%",height:o+"%"}:{left:n+"%",width:o+"%"},c=(0,l.default)({visibility:a?"visible":"hidden"},u,s);return i.default.createElement("div",{className:t,style:c})};t.default=u,e.exports=t.default},1005:function(e,t,a){"use strict";(function(r){function n(e){return e&&e.__esModule?e:{default:e}}function l(){}function o(e){var t,a;return a=t=function(e){function t(a){(0,f.default)(this,t);var n=(0,p.default)(this,e.call(this,a));if(n.onMouseDown=function(e){if(0===e.button){var t=n.props.vertical,a=j.getMousePosition(t,e);if(j.isEventFromHandle(e,n.handlesRefs)){var r=j.getHandleCenterPosition(t,e.target);n.dragOffset=a-r,a=r}else n.dragOffset=0;n.removeDocumentEvents(),n.onStart(a),n.addDocumentMouseEvents(),j.pauseEvent(e)}},n.onTouchStart=function(e){if(!j.isNotTouchEvent(e)){var t=n.props.vertical,a=j.getTouchPosition(t,e);if(j.isEventFromHandle(e,n.handlesRefs)){var r=j.getHandleCenterPosition(t,e.target);n.dragOffset=a-r,a=r}else n.dragOffset=0;n.onStart(a),n.addDocumentTouchEvents(),j.pauseEvent(e)}},n.onFocus=function(e){var t=n.props,a=t.onFocus,r=t.vertical;if(j.isEventFromHandle(e,n.handlesRefs)){var l=j.getHandleCenterPosition(r,e.target);n.dragOffset=0,n.onStart(l),j.pauseEvent(e),a&&a(e)}},n.onBlur=function(e){var t=n.props.onBlur;n.onEnd(e),t&&t(e)},n.onMouseUp=function(){n.onEnd(),n.removeDocumentEvents()},n.onMouseMove=function(e){if(!n.sliderRef)return void n.onEnd();var t=j.getMousePosition(n.props.vertical,e);n.onMove(e,t-n.dragOffset)},n.onTouchMove=function(e){if(j.isNotTouchEvent(e)||!n.sliderRef)return void n.onEnd();var t=j.getTouchPosition(n.props.vertical,e);n.onMove(e,t-n.dragOffset)},n.onKeyDown=function(e){n.sliderRef&&j.isEventFromHandle(e,n.handlesRefs)&&n.onKeyboard(e)},n.saveSlider=function(e){n.sliderRef=e},"production"!==r.env.NODE_ENV){var l=a.step,o=a.max,i=a.min;(0,N.default)(!l||Math.floor(l)!==l||(o-i)%l==0,"Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)",o-i,l)}return n.handlesRefs={},n}return(0,b.default)(t,e),t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount&&e.prototype.componentWillUnmount.call(this),this.removeDocumentEvents()},t.prototype.componentDidMount=function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument},t.prototype.addDocumentTouchEvents=function(){this.onTouchMoveListener=(0,C.default)(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=(0,C.default)(this.document,"touchend",this.onEnd)},t.prototype.addDocumentMouseEvents=function(){this.onMouseMoveListener=(0,C.default)(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=(0,C.default)(this.document,"mouseup",this.onEnd)},t.prototype.removeDocumentEvents=function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},t.prototype.focus=function(){this.props.disabled||this.handlesRefs[0].focus()},t.prototype.blur=function(){this.props.disabled||this.handlesRefs[0].blur()},t.prototype.getSliderStart=function(){var e=this.sliderRef,t=e.getBoundingClientRect();return this.props.vertical?t.top:t.left},t.prototype.getSliderLength=function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width},t.prototype.calcValue=function(e){var t=this.props,a=t.vertical,r=t.min,n=t.max,l=Math.abs(Math.max(e,0)/this.getSliderLength());return a?(1-l)*(n-r)+r:l*(n-r)+r},t.prototype.calcValueByPos=function(e){var t=e-this.getSliderStart();return this.trimAlignValue(this.calcValue(t))},t.prototype.calcOffset=function(e){var t=this.props,a=t.min;return(e-a)/(t.max-a)*100},t.prototype.saveHandle=function(e,t){this.handlesRefs[e]=t},t.prototype.render=function(){var t,a=this.props,r=a.prefixCls,n=a.className,o=a.marks,i=a.dots,u=a.step,s=a.included,d=a.disabled,f=a.vertical,m=a.min,p=a.max,h=a.children,b=a.maximumTrackStyle,y=a.style,g=a.railStyle,E=a.dotStyle,P=a.activeDotStyle,C=e.prototype.render.call(this),k=C.tracks,w=C.handles,N=(0,S.default)(r,(t={},t[r+"-with-marks"]=Object.keys(o).length,t[r+"-disabled"]=d,t[r+"-vertical"]=f,t[n]=n,t));return v.default.createElement("div",{ref:this.saveSlider,className:N,onTouchStart:d?l:this.onTouchStart,onMouseDown:d?l:this.onMouseDown,onMouseUp:d?l:this.onMouseUp,onKeyDown:d?l:this.onKeyDown,onFocus:d?l:this.onFocus,onBlur:d?l:this.onBlur,style:y},v.default.createElement("div",{className:r+"-rail",style:(0,c.default)({},b,g)}),k,v.default.createElement(_.default,{prefixCls:r,vertical:f,marks:o,dots:i,step:u,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:m,dotStyle:E,activeDotStyle:P}),w,v.default.createElement(O.default,{className:r+"-mark",vertical:f,marks:o,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:m}),h)},t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=(0,c.default)({},e.propTypes,{min:E.default.number,max:E.default.number,step:E.default.number,marks:E.default.object,included:E.default.bool,className:E.default.string,prefixCls:E.default.string,disabled:E.default.bool,children:E.default.any,onBeforeChange:E.default.func,onChange:E.default.func,onAfterChange:E.default.func,handle:E.default.func,dots:E.default.bool,vertical:E.default.bool,style:E.default.object,minimumTrackStyle:E.default.object,maximumTrackStyle:E.default.object,handleStyle:E.default.oneOfType([E.default.object,E.default.arrayOf(E.default.object)]),trackStyle:E.default.oneOfType([E.default.object,E.default.arrayOf(E.default.object)]),railStyle:E.default.object,dotStyle:E.default.object,activeDotStyle:E.default.object,autoFocus:E.default.bool,onFocus:E.default.func,onBlur:E.default.func}),t.defaultProps=(0,c.default)({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,a=(0,u.default)(e,["index"]);return delete a.dragging,v.default.createElement(U.default,(0,c.default)({},a,{key:t}))},onBeforeChange:l,onChange:l,onAfterChange:l,included:!0,disabled:!1,dots:!1,vertical:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),a}t.__esModule=!0;var i=a(37),u=n(i),s=a(6),c=n(s),d=a(3),f=n(d),m=a(4),p=n(m),h=a(5),b=n(h);t.default=o;var y=a(0),v=n(y),g=a(2),E=n(g),P=a(149),C=n(P),k=a(8),S=n(k),w=a(42),N=n(w),T=a(1035),_=n(T),x=a(1036),O=n(x),M=a(1006),U=n(M),B=a(1003),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(B);e.exports=t.default}).call(t,a(1))},1006:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(6),l=r(n),o=a(37),i=r(o),u=a(3),s=r(u),c=a(4),d=r(c),f=a(5),m=r(f),p=a(0),h=r(p),b=a(2),y=r(b),v=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,m.default)(t,e),t.prototype.focus=function(){this.handle.focus()},t.prototype.blur=function(){this.handle.blur()},t.prototype.render=function(){var e=this,t=this.props,a=t.className,r=t.vertical,n=t.offset,o=t.style,u=t.disabled,s=t.min,c=t.max,d=t.value,f=(0,i.default)(t,["className","vertical","offset","style","disabled","min","max","value"]),m=r?{bottom:n+"%"}:{left:n+"%"},p=(0,l.default)({},o,m),b={};return void 0!==d&&(b=(0,l.default)({},b,{"aria-valuemin":s,"aria-valuemax":c,"aria-valuenow":d,"aria-disabled":!!u})),h.default.createElement("div",(0,l.default)({ref:function(t){return e.handle=t},role:"slider",tabIndex:"0"},b,f,{className:a,style:p}))},t}(h.default.Component);t.default=v,v.propTypes={className:y.default.string,vertical:y.default.bool,offset:y.default.number,style:y.default.object,disabled:y.default.bool,min:y.default.number,max:y.default.number,value:y.default.number},e.exports=t.default},1022:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s,c,d=a(105),f=r(d),m=a(150),p=r(m),h=a(22),b=r(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a(147),a(121),a(34);var v=a(0),g=r(v),E=a(7),P=a(1023),C=r(P),k=a(1025),S=r(k),w=a(1026),N=r(w),T=a(148),_=r(T),x=(i=(0,E.inject)("tradeStore","commonStore"))(u=(0,E.observer)((c=s=function(e){function t(e){n(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.asyncTradingView=function(){"undefined"==typeof TradingView?a.e(5).then(a.bind(null,1027)).then(function(e){r.visibleKlineMask(!0),r.createTradingView()}).catch(function(e){console.error("Chunk loading failed",e)}):r.tvwidget||(r.visibleKlineMask(!0),r.createTradingView())},r.switchTheme=function(e){if(r.tvwidget){r.visibleKlineMask(!0);var t=r.getOverridesByTheme(e),a=r.getCustomCSSUrlByTheme(e);r.tvwidget.addCustomCSSFile(a),r.tvwidget.applyOverrides(t),setTimeout(function(){r.visibleKlineMask(!1)},0)}},r.showChart=function(e){_.default.click("webtrade"+e.id.replace(/\w{1}/i,function(e){return e.toUpperCase()})+"Chart"),r.setState({chartType:e.id},function(){this.getBarTransform(e.index),this.drawChart()})},r.handleFullScreen=function(e){r.state.fullscreen||_.default.click("webtradeFullScreenChart"),r.setState({fullscreen:!r.state.fullscreen})},r.timeline=[{slug:"realtime",resolution:"1",chartType:3,text:UPEX.lang.template("分时")},{slug:"1min",resolution:"1",chartType:1,text:UPEX.lang.template("1min")},{slug:"5min",resolution:"5",chartType:1,text:UPEX.lang.template("5min")},{slug:"10min",resolution:"10",chartType:1,text:UPEX.lang.template("10min")},{slug:"30min",resolution:"30",chartType:1,text:UPEX.lang.template("30min")},{slug:"1hour",resolution:"60",chartType:1,text:UPEX.lang.template("1hour")},{slug:"1day",resolution:"1D",chartType:1,text:UPEX.lang.template("1day")}],r.defaultThemes={light:{url:"day.css",down:"#db4e4e",up:"#0c9b78",bg:"#ffffff",grid:"#f7f8fa",cross:"#23283D",border:"#cad1d5",text:"#cad1d5",areatop:"rgba(122, 152, 247, .1)",areadown:"rgba(122, 152, 247, .02)"},dark:{url:"night.css",down:"#db4e4e",up:"#0c9b78",bg:"#24272c",grid:"#2a2e33",cross:"#c5cedd",border:"#545960",text:"#545960",areatop:"rgba(122, 152, 247, .1)",areadown:"rgba(122, 152, 247, .02)"}},r.chartTabs=[{index:0,id:"kline",title:UPEX.lang.template("K线图")},{index:1,id:"depth",title:UPEX.lang.template("深度图")}],r.state={chartType:"kline",fullscreen:!1},r}return o(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;this.drawChart(),$.channel.on("switchTheme",function(t){e.switchTheme(t)}),this.getBarTransform()}},{key:"componentWillUnmount",value:function(){$.channel.off("switchTheme"),this.datafeed&&this.datafeed.destroy(),this.tvwidget=null,window.tvwidget=null}},{key:"drawChart",value:function(){switch(this.state.chartType){case"kline":this.asyncTradingView()}}},{key:"visibleKlineMask",value:function(e){var t=$(this.refs.klinemask);0!=t.length&&(e?t.removeClass("hidden"):t.addClass("hidden"))}},{key:"createTradingView",value:function(){var e=this,t=this.props.tradeStore.theme,a=this.props.data,r=(a.baseCurrencyId,a.tradeCurrencyId,a.baseCurrencyNameEn),n=a.tradeCurrencyNameEn,l=a.pointNum,o=a.pointPrice,i=void 0,u=void 0;i=this.getLocale(),u=this.getIntervalByPeriod();var s=n+"/"+r,c=this.datafeed=new S.default({currencyNameEn:n,baseCurrencyNameEn:r,pointPrice:o,pointNum:l}),d=this.getOverridesByTheme(t),f=this.getCustomCSSUrlByTheme(t),m={debug:!1,symbol:s,fullscreen:!0,autosize:!0,interval:u,container_id:"kline-chart",locale:i,timezone:"Asia/Shanghai",library_path:"/",toolbar_bg:"transparent",drawings_access:{type:"black",tools:[{name:"Regression Trend"}]},datafeed:c,custom_css_url:f,enabled_features:["dont_show_boolean_study_arguments","hide_last_na_study_output","move_logo_to_main_pane","same_data_requery","side_toolbar_in_fullscreen_mode","disable_resolution_rebuild","timeframes_toolbar"],disabled_features:["header_fullscreen_button","left_toolbar","header_symbol_search","header_resolutions","symbol_info","go_to_date","header_screenshot","header_undo_redo","header_compare","header_chart_type","header_settings","display_market_status","symbol_search_hot_key","compare_symbol","border_around_the_chart","remove_library_container_border","header_interval_dialog_button","show_interval_dialog_on_key_press","show_hide_button_in_legend","snapshot_trading_drawings","volume_force_overlay"]},p=function(){var t=new TradingView.widget(m);t.onChartReady(function(){window.tvwidget=e.tvwidget=t,t.applyOverrides(d),e.visibleKlineMask(!1),t.onContextMenu(function(e,t){return[{text:"-Objects Tree..."},{text:"-Drawing Tools"},{text:"-Hide Marks On Bars"},{text:"-Change Symbol..."},{text:"-Change Interval..."}]});var a=function(e){var a=e.resolution,r=e.chartType||1;t.changingInterval||(t.setSymbol(s,a),t.changingInterval=!0,t.chart().chartType()!==r&&t.applyOverrides({"mainSeriesProperties.style":r}),t.selectedIntervalClass="interval-"+a+"-"+r,t.changingInterval=!1)},r=UPEX.cache.getCache("kline/resolution")||e.timeline[0];t.selectedIntervalClass="interval-"+r.resolution+"-"+r.chartType;var n=e.timeline.map(function(e,r){return chartType=e.chartType||1,t.createButton().attr("title",e.slug).addClass(t.selectedIntervalClass==="interval-"+e.resolution+"-"+e.chartType?"selected":"").data("resolution",e.resolution).data("charttype",e.chartType).on("click",function(r){a(e);$(r.currentTarget);n.forEach(function(e){t.selectedIntervalClass==="interval-"+e.data("resolution")+"-"+e.data("charttype")?e.addClass("selected"):e.removeClass("selected")}),UPEX.cache.setCache("kline/resolution",{resolution:e.resolution,chartType:e.chartType||1})}).append($("<span>"+e.text+"</span>"))});t.maStudies=[];t.chart().onIntervalChanged().subscribe(null,function(e,r){t.changingInterval=!1,n.forEach(function(e){t.selectedIntervalClass==="interval-"+e.data("resolution")+"-"+e.data("charttype")?e.addClass("selected"):e.removeClass("selected")}),1*e!=1&&(UPEX.cache.setCache("kline/resolution",{resolution:e,chartType:1}),a({resolution:e}))}),t.chart().setChartType(r.chartType),t.chart().executeActionById("drawingToolbarAction")})};window.tvwidget?p():(TradingView.onready(function(){window.tradingviewready=!0,p()}),setTimeout(function(){window.tradingviewready||p()},1e3))}},{key:"getLocale",value:function(){var e=this.props.commonStore.language;switch(e){case"zh-CN":e="zh";break;case"zh-TW":e="zh_TW";break;case"en-US":e="en"}return e}},{key:"getIntervalByPeriod",value:function(){var e=UPEX.cache.getCache("kline/resolution"),t=e||this.timeline[0],a=t.resolution;return this.currentPeroid=t,a}},{key:"getOverridesByTheme",value:function(e){var t=this.defaultThemes[e];return{volumePaneSize:"medium","scalesProperties.lineColor":t.text,"scalesProperties.textColor":t.text,"paneProperties.background":t.bg,"paneProperties.vertGridProperties.color":t.grid,"paneProperties.horzGridProperties.color":t.grid,"paneProperties.crossHairProperties.color":t.cross,"paneProperties.legendProperties.showLegend":!!t.showLegend,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.upColor":t.up,"mainSeriesProperties.candleStyle.downColor":t.down,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":t.border,"mainSeriesProperties.candleStyle.borderUpColor":t.up,"mainSeriesProperties.candleStyle.borderDownColor":t.down,"mainSeriesProperties.candleStyle.wickUpColor":t.up,"mainSeriesProperties.candleStyle.wickDownColor":t.down,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.upColor":t.up,"mainSeriesProperties.hollowCandleStyle.downColor":t.down,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.hollowCandleStyle.borderColor":t.border,"mainSeriesProperties.hollowCandleStyle.borderUpColor":t.up,"mainSeriesProperties.hollowCandleStyle.borderDownColor":t.down,"mainSeriesProperties.hollowCandleStyle.wickColor":t.line,"mainSeriesProperties.haStyle.upColor":t.up,"mainSeriesProperties.haStyle.downColor":t.down,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.borderColor":t.border,"mainSeriesProperties.haStyle.borderUpColor":t.up,"mainSeriesProperties.haStyle.borderDownColor":t.down,"mainSeriesProperties.haStyle.wickColor":t.border,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.upColor":t.up,"mainSeriesProperties.barStyle.downColor":t.down,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.color":t.border,"mainSeriesProperties.lineStyle.linewidth":1,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.color1":t.areatop,"mainSeriesProperties.areaStyle.color2":t.areadown,"mainSeriesProperties.areaStyle.linecolor":t.border,"mainSeriesProperties.areaStyle.linewidth":1,"mainSeriesProperties.areaStyle.priceSource":"close"}}},{key:"getCustomCSSUrlByTheme",value:function(e){return this.defaultThemes[e].url}},{key:"getBarTransform",value:function(e){var t=0,a=$(this.refs.tabs),r=$(this.refs.bar);if(0!=a.length&&0!=r.length){var n=a.offset(),l=$('[data-role="tab"]',a),o=$(r).offset(),i=l.eq(e||0),u=i.offset();t=u.left-n.left+(u.width/2-o.width/2),r.css({visibility:"visible",msTransform:"translate3d("+t+"px,0,0)",WebkitTransform:"translate3d("+t+"px,0,0)",transform:"translate3d("+t+"px,0,0)"})}}},{key:"render",value:function(){var e=this,t=this.props.tradeStore,a=this.state,r=a.chartType,n=a.fullscreen,l=(t.theme,{});l="dark"===t.theme?{fontSize:12,color:"#545960",padding:"0 10px"}:{fontSize:12,color:"#e8b802",padding:"0 10px"};var o=void 0,i="";return t.currentTradeCoin&&t.currentTradeCoin.currentAmount&&(t.currentTradeCoin.currentAmount>t.currentTradeCoin.previousPrice?(i="greenrate",o=g.default.createElement("i",{className:"exc-kline-arrow-up"})):t.currentTradeCoin.currentAmount<t.currentTradeCoin.previousPrice&&(i="redrate",o=g.default.createElement("i",{className:"exc-kline-arrow-down"}))),g.default.createElement("div",{className:"chart-box "+(n?"chart-box-mask":"")},g.default.createElement("div",{className:"trade-current-coin"},g.default.createElement("dl",{className:"info-list"},g.default.createElement("dt",{className:"coin",ref:"coin"},g.default.createElement(p.default,{content:g.default.createElement(C.default,null),placement:"bottomLeft",trigger:"click",overlayClassName:"dark"===t.theme?"popover-tradecoins popover-tradecoins-dark":"popover-tradecoins popover-tradecoins-light"},g.default.createElement("label",null,t.currentTradeCoin.currencyNameEn,"/",t.currentTradeCoin.baseCurrencyNameEn),g.default.createElement(b.default,{type:"caret-down",style:l})),g.default.createElement("span",{className:"current-amount "+i},g.default.createElement("em",null,t.currentTradeCoin.currentAmountText),o)),g.default.createElement("dd",null,g.default.createElement("label",null,UPEX.lang.template("涨幅")),g.default.createElement("em",{className:t.currentTradeCoin.changeRate>=0?"greenrate":"redrate"},t.currentTradeCoin.changeRateText)),g.default.createElement("dd",null,g.default.createElement("label",null,UPEX.lang.template("高")),g.default.createElement("em",null,t.currentTradeCoin.highPriceText)),g.default.createElement("dd",null,g.default.createElement("label",null,UPEX.lang.template("低")),g.default.createElement("em",null,t.currentTradeCoin.lowPriceText)),g.default.createElement("dd",null,g.default.createElement("label",null,UPEX.lang.template("24H量")),g.default.createElement("em",null,t.currentTradeCoin.volumeText," ",t.currentTradeCoin.currencyNameEn))),g.default.createElement("ul",{className:"chart-menu",ref:"tabs"},this.chartTabs.map(function(t,a){var n=r==t.id?"selected":"";return g.default.createElement("li",{key:t.id,"data-role":"tab","data-key":t.id,className:n,onClick:e.showChart.bind(e,t)},t.title)}),g.default.createElement("li",{key:"bar","data-role":"bar",ref:"bar",className:"tab-bar exc-tab-animated"})),g.default.createElement("div",{className:"full-btn",onClick:this.handleFullScreen,ref:"fullbtn"},n?g.default.createElement(f.default,{placement:"right",title:UPEX.lang.template("退出全屏"),overlayClassName:"dark"==t.theme?"ant-tooltip-dark":"ant-tooltip-light"},g.default.createElement("i",{className:"icon-exit-full"})):g.default.createElement(f.default,{placement:"right",title:UPEX.lang.template("全屏"),overlayClassName:"dark"==t.theme?"ant-tooltip-dark":"ant-tooltip-light"},g.default.createElement("i",{className:"icon-full"})))),g.default.createElement("div",{className:"trade-kline-mask hidden",ref:"klinemask",style:{height:t.mainChartHeight-40}},g.default.createElement("div",{className:"mini-loading"})),g.default.createElement("div",{id:"kline-chart",ref:"kline",className:"trade-kline-chart","data-show":"kline"==r?"show":"hide"}),g.default.createElement(N.default,{depthAsks:t.asks,depthBids:t.bids}))}}]),t}(v.Component),s.defaultProps={data:{baseCurrencyId:"",baseCurrencyNameEn:"",tradeCurrencyId:"",tradeCurrencyNameEn:"",pointPrice:"",pointNum:""}},u=c))||u)||u;t.default=x},1023:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s=a(67),c=r(s),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a(46);var f=a(0),m=r(f),p=a(7),h=(a(11),a(1024)),b=r(h),y=c.default.Search,v=(i=(0,p.inject)("tradeStore"))(u=(0,p.observer)(u=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleTab=function(e){var t=a.props.tradeStore.marketListStore;t.updateMarketCode(e),t.initMarket(),a.getBarTransform()},a.filterHandler=function(e){var t=a.props.tradeStore.marketListStore,r=e.target.value.trim();t.updateSearchValue(r)},a}return o(t,e),d(t,[{key:"componentWillMount",value:function(){this.props.tradeStore.marketListStore.getData()}},{key:"componentDidMount",value:function(){var e=this;$.channel.on("selectedMarketCode",function(){var t=setTimeout(function(){clearTimeout(t),e.getBarTransform()},300)})}},{key:"componentWillUnmount",value:function(){$.channel.off("selectedMarketCode")}},{key:"getBarTransform",value:function(){var e=0,t=$(this.refs.tabs),a=$(this.refs.bar),r=this.props.tradeStore.marketListStore.selectedMarketCode;if(0!=t.length&&0!=a.length&&r){var n=t.offset(),l=$(a).offset(),o=$('[data-key="'+r+'"]',t),i=o.offset();e=i.left-n.left+(i.width/2-l.width/2),a.css({visibility:"visible",msTransform:"translate3d("+e+"px,0,0)",WebkitTransform:"translate3d("+e+"px,0,0)",transform:"translate3d("+e+"px,0,0)"})}}},{key:"render",value:function(){var e=this,t=this.props.tradeStore.marketListStore;return m.default.createElement("div",{className:"coin-list-wrap"},m.default.createElement("div",{className:"coin-list-nav"},m.default.createElement("h3",{className:"title hidden"},"Marked"==t.selectedMarketCode?UPEX.lang.template("收藏"):t.selectedMarketCode),m.default.createElement("div",{className:"search"},m.default.createElement(y,{onChange:this.filterHandler,value:t.searchValue,placeholder:UPEX.lang.template("搜索数字币")})),m.default.createElement("ul",{className:"tabs",ref:"tabs"},m.default.createElement("li",{key:"bar","data-role":"bar",ref:"bar",className:"tab-bar exc-tab-animated"}),t.marketNav.map(function(a,r){var n=a==t.selectedMarketCode?"selected":"";return m.default.createElement("li",{"data-role":"tab","data-key":a,className:n,key:a,onClick:e.handleTab.bind(e,a)},a)}),m.default.createElement("li",{"data-role":"tab","data-key":"Marked",className:"marked"+("Marked"==t.selectedMarketCode?" selected":""),onClick:this.handleTab.bind(this,"Marked")},"Marked"==t.selectedMarketCode?m.default.createElement("i",{className:"exc-star selected"}):m.default.createElement("i",{className:"exc-star"})))),m.default.createElement("div",{className:"coin-list-panel"},m.default.createElement(b.default,null)))}}]),t}(f.Component))||u)||u;t.default=v},1024:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s=a(22),c=r(s),d=a(67),f=r(d),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a(34),a(46);var p=a(0),h=r(p),b=a(7),y=a(11),v=(f.default.Search,(i=(0,b.inject)("tradeStore"))(u=(0,b.observer)(u=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.sortHandle=function(e,t){a.props.tradeStore.marketListStore.sortByCondition(e)},a.handleCurrency=function(e,t){if(!($(t.target).parents(".action").length>0)){var r=a.props.tradeStore,n=r.currentTradeCoin;e.baseCurrencyNameEn===n.baseCurrencyNameEn&&e.currencyNameEn===n.currencyNameEn||(r.updateTradeHistory({content:[]}),r.updateCurrentTradeCoin({currencyNameEn:e.currencyNameEn,baseCurrencyNameEn:e.baseCurrencyNameEn,currentTradeCoin:"--",currentAmountText:"--",highPriceText:"--",lowPriceText:"--",volumeText:"--"})),y.browserHistory.push("/webtrade/"+e.baseCurrencyNameEn+"_"+e.currencyNameEn)}},a.collecthandle=function(e,t){a.props.tradeStore.marketListStore.toggleCollectCoin(t)},a}return o(t,e),m(t,[{key:"sortIcon",value:function(e){return e?"asc"==this.props.tradeStore.marketListStore.sortByType?h.default.createElement(c.default,{type:"arrow-up",style:{fontSize:12}}):h.default.createElement(c.default,{type:"arrow-down",style:{fontSize:12}}):null}},{key:"collectIcon",value:function(e){var t=this,a=this.props.tradeStore.marketListStore.collectCoinsList,r=a.some(function(t){if(t.tradeCurrencyId===e.currencyId&&t.baseCurrencyId===e.baseCurrencyId)return!0});return e.selected=!!r,r?h.default.createElement("i",{onClick:function(a){return t.collecthandle(a,e)},className:"exc-star selected"}):h.default.createElement("i",{onClick:function(a){return t.collecthandle(a,e)},className:"exc-star-o"})}},{key:"render",value:function(){var e=this,t=(this.props.tradeStore,this.props.tradeStore.marketListStore);return h.default.createElement("div",{className:"coin-list"},h.default.createElement("div",{className:"coin-list-content"},h.default.createElement("div",{className:""},h.default.createElement("div",{className:"table-header"},h.default.createElement("ul",null,h.default.createElement("li",{key:"header"},h.default.createElement("div",{className:"cell name"},UPEX.lang.template("币种")),h.default.createElement("div",{className:"cell amount"},h.default.createElement("span",{onClick:this.sortHandle.bind(this,"currentAmount")},UPEX.lang.template("最新价")," ",this.sortIcon("currentAmount"===t.sortByKey))),h.default.createElement("div",{className:"cell rate"},h.default.createElement("span",{onClick:this.sortHandle.bind(this,"changeRate")},UPEX.lang.template("24h涨跌"),this.sortIcon("changeRate"===t.sortByKey))),h.default.createElement("div",{className:"cell volume"},h.default.createElement("span",{onClick:this.sortHandle.bind(this,"volume")},UPEX.lang.template("24h成交量"),this.sortIcon("volume"===t.sortByKey))),h.default.createElement("div",{className:"cell action"},UPEX.lang.template("收藏"))))),h.default.createElement("div",{className:"table-body"},h.default.createElement("ul",null,t.selectedCurrencies.map(function(a,r){var n=void 0;return a.baseCurrencyNameEn&&a.currencyNameEn&&"/webtrade/"+a.baseCurrencyNameEn+"_"+a.currencyNameEn,n=a.changeRate>=0?"greenrate":"redrate",a.currentAmount>=a.previousPrice?("greenrate",h.default.createElement(c.default,{type:"arrow-up",style:{fontSize:12}})):("redrate",h.default.createElement(c.default,{type:"arrow-down",style:{fontSize:12}})),h.default.createElement("li",{className:"clearfix"+(a.currencyNameEn===t.selectedCurrency.currencyNameEn?" selected":""),key:a.key,onClick:e.handleCurrency.bind(e,a)},h.default.createElement("span",{className:"cell name"},h.default.createElement("span",{className:"symbol"},a.currencyNameEn||"--"," / ",a.baseCurrencyNameEn)),h.default.createElement("span",{className:"cell amount"},a.currentAmountText),h.default.createElement("span",{className:"cell rate "+n},a.changeRateText),h.default.createElement("span",{className:"cell volume"},a.volumeText),h.default.createElement("span",{className:"cell action"},e.collectIcon(a)))}))))))}}]),t}(p.Component))||u)||u);t.default=v},1025:function(e,t,a){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(120),o=a(9),i=a(21),u=function(e){return e&&e.__esModule?e:{default:e}}(i),s={symbols_types:[],supported_resolutions:[1,5,15,30,60,240,"1D","5D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1,supports_time:!0,exchanges:[],supports_search:!1,supports_group_request:!0},c=function(){function e(t){r(this,e),t=t||{},this.configurationData=s,this.serverTime=null,this.symbol=t.symbol||"",this.currencyNameEn=t.currencyNameEn,this.baseCurrencyNameEn=t.baseCurrencyNameEn,this.pointPrice=t.pointPrice,this.pointNum=t.pointNum,this.timezone=t.timezone,this.resolution="",this.cacheResult={},this.historyData={}}return n(e,[{key:"onReady",value:function(e){e(this.configurationData)}},{key:"resolveSymbol",value:function(e,t,a){var r=this,n="Asia/Singapore";"infinitex"==UPEX.config.version&&(n="Australia/Brisbane"),setTimeout(function(){try{t({name:e,ticker:[r.baseCurrencyNameEn,r.currencyNameEn].join("_").toLocaleLowerCase(),timezone:n,minmov:1,minmove2:0,volume_precision:r.pointNum,session:"24x7",description:e,pricescale:Math.pow(10,r.pointPrice),fractional:!1,has_intraday:!0,has_daily:!0,has_weekly_and_monthly:!0})}catch(e){}},0)}},{key:"getBars",value:function(e,t,a,r,n,l,i){var s=this;if(a>0&&(a+"").length>10)throw"Got a JS time instead of Unix one.";i&&(r=parseInt(+new Date/1e3,10));var c=1e3*a,d=1e3*r,f=(e.ticker,this.getIntervalByPeriod(t));(0,o.getTradeKline)({symbol:e.ticker||"",interval:f,limit:1440,startTime:c,endTime:d}).then(function(e){var t=e.attachment,a=[],r={noData:!1};if(200!==e.status||0==t.length)r.noData=!0;else for(var l=0;l<t.length;++l){var o=t[l],i={time:o.currentTime,close:Number(o.closePrice),open:Number(o.openPrice),high:Number(o.highPrice),low:Number(o.lowPrice),volume:Number(o.volume)};i.timeTxt=u.default.formatDate(o.currentTime,"yyyy-MM-dd HH:mm:ss"),a[a.length]=i}var c=s.historyData[f];c&&a.length>0&&(c.first&&c.first.time>a[0].time?a=a.concat(c.bars):c.last&&c.first.last<a[a.length-1].time&&(a=c.bars.concat(a))),s.historyData[f]={bars:a,meta:r,last:a[a.length-1],first:a[0]},n(a,r)})}},{key:"getIntervalByPeriod",value:function(e){switch(e+""){case"0":case"1":case"5":case"10":case"30":case"60":return e;case"1D":case"5D":case"7D":case"1W":case"1M":return"70";default:return"1"}}},{key:"subscribeBars",value:function(e,t,a,r,n){var l=this,i=e.ticker||"",s=this.getIntervalByPeriod(t);this.timer&&clearTimeout(this.timer),function e(){(0,o.getTradeKline)({symbol:i,interval:s,limit:1}).then(function(e){var r=e.attachment,n=l.historyData[t]||{};if(200!==e.status||0==r.length)n.noData=!0;else{var o=r[0],i={time:o.currentTime,close:Number(o.closePrice),open:Number(o.openPrice),high:Number(o.highPrice),low:Number(o.lowPrice),volume:Number(o.volume)};i.timeTxt=u.default.formatDate(o.currentTime,"yyyy-MM-dd HH:mm:ss"),a(i)}}),l.timer&&clearTimeout(l.timer),l.timer=setTimeout(function(){e()},3e3)}()}},{key:"unsubscribeBars",value:function(e){this.destroy()}},{key:"destroy",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"getServerTime",value:function(e){this.configurationData.supports_time&&(l.socket.emit("serverTime"),l.socket.on("serverTime",function(t){var a=parseInt(t/1e3,10);e(a)}))}}]),e}();t.default=c},1026:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=a(0),d=r(c),f=a(998),m=r(f),p=(u=i=function(e){function t(e){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("depth-chart");this.chart=m.default.init(t),this.setDepthData({bids:this.props.depthBids,asks:this.props.depthAsks}),$(window).resize(function(){e.chart&&e.chart.resize()})}},{key:"componentWillReceiveProps",value:function(e){this.setDepthData({bids:e.depthBids,asks:e.depthAsks})}},{key:"setDepthData",value:function(e){var t=this.chart,a=[],r=[],n=[];e.bids.length>0&&e.bids.forEach(function(e,t){a[a.length]=e.price,r[r.length]=e.totalvolume,n.push(null)}),e.asks.length>0&&e.asks.forEach(function(e,t){a[a.length]=e.price,n[n.length]=e.totalvolume}),t.setOption({grid:{top:10,bottom:30,left:60,right:10},tooltip:{trigger:"axis",axisPointer:{show:!0,type:"cross",lineStyle:{type:"dashed",width:1}},formatter:UPEX.lang.template("委托价")+": {b0} <br/>"+UPEX.lang.template("累计")+": {c0}"},color:["#75e08a","#d66b5a"],xAxis:{type:"category",axisPointer:{type:"line"},boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(102,102,102,0.1)"}},axisLine:{lineStyle:{color:"#666666"}},data:a},yAxis:{type:"value",axisPointer:{type:"line"},splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(102,102,102,0.1)"}},axisLine:{lineStyle:{color:"#666666"}}},series:[{type:"line",step:"start",showAllSymbol:!1,lineStyle:{normal:{color:"#33c280",width:2}},areaStyle:{normal:{color:"rgba(51, 194, 128, 0.2)"}},data:r},{type:"line",step:"start",showAllSymbol:!1,lineStyle:{normal:{color:"#ef5d7f",width:2}},areaStyle:{normal:{color:"rgba(239, 93, 127, 0.2)"}},data:n}]}),this.chart.resize()}},{key:"dispose",value:function(){this.chart.dispose()}},{key:"render",value:function(){return d.default.createElement("div",{className:"trade-depth-chart",id:"depth-chart",ref:"depthchart"})}}]),t}(c.Component),i.defaultProps={depthAsks:[],depthBids:[]},u);t.default=p},1028:function(e,t,a){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),d=a(7),f=(o=(0,d.inject)("tradeStore"))(i=(0,d.observer)(i=function(e){function t(){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"haneleClickOrder",value:function(e){var t=this.props.tradeStore;"market"!=t.tradeType&&(t.setDealBuyPrice(e.current),t.setDealSellPrice(e.current))}},{key:"render",value:function(){var e=this,t=this.props.tradeStore;return c.default.createElement("div",{className:"trade-history"},c.default.createElement("div",{className:"list-box-hd"},UPEX.lang.template("实时成交")),c.default.createElement("div",{className:"list-box-bd"},c.default.createElement("div",{className:"table-hd"},c.default.createElement("div",{className:"time"},UPEX.lang.template("时间")),c.default.createElement("div",{className:"price"},UPEX.lang.template("价格")),c.default.createElement("div",{className:"number"},UPEX.lang.template("数量"))),c.default.createElement("div",{className:"table-bd"},c.default.createElement("ul",null,t.tradeHistory.content.map(function(t,a){var r=1==t.buyOrSell?"greenrate":"redrate";return c.default.createElement("li",{key:a,"data-type":1==t.buyOrSell?"buy":"sell",onClick:e.haneleClickOrder.bind(e,t),"data-text":t.timeTextAll},c.default.createElement("div",{className:"time"},t.timeText),c.default.createElement("div",{className:"price "+r},t.currentText),c.default.createElement("div",{className:"number"},t.amountText))})))))}}]),t}(s.Component))||i)||i;t.default=f},1029:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),f=a(0),m=r(f),p=a(7),h=a(1030),b=r(h),y=a(1031),v=r(y),g=a(148),E=r(g),P=(i=(0,p.inject)("tradeStore"))(u=(0,p.observer)((c=s=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeEntrustType=function(e){E.default.click("webtradeOrderBookIn"+e.replace(/\w{1}/i,function(e){return e.toUpperCase()})),a.setState({selectedTab:e})},a.state={selectedTab:"all"},a}return o(t,e),d(t,[{key:"render",value:function(){var e=this,t=this.props.tradeStore,a=this.state.selectedTab,r=void 0,n="";t.currentTradeCoin&&t.currentTradeCoin.currentAmount&&(t.currentTradeCoin.currentAmount>t.currentTradeCoin.previousPrice?(n="greenrate",r=m.default.createElement("i",{className:"exc-kline-arrow-up"})):t.currentTradeCoin.currentAmount<t.currentTradeCoin.previousPrice&&(n="redrate",r=m.default.createElement("i",{className:"exc-kline-arrow-down"})));var l="ace"===UPEX.config.version?UPEX.config.baseCurrencySymbol:UPEX.config.baseCurrencySymbol2;return m.default.createElement("div",{className:"order-book","data-type":a},m.default.createElement("div",{className:"list-box-hd"},UPEX.lang.template("挂单簿"),m.default.createElement("ul",{className:"tab"},this.props.tabs.map(function(t,r){var n=a==t?t+" selected":t;return m.default.createElement("li",{className:n,key:t,onClick:e.onChangeEntrustType.bind(e,t)})}))),m.default.createElement("div",{className:"list-box-bd"},m.default.createElement("div",{className:"table-hd"},m.default.createElement("div",{className:"price"},UPEX.lang.template("价格")),m.default.createElement("div",{className:"number"},UPEX.lang.template("数量")),m.default.createElement("div",{className:"total"},UPEX.lang.template("金额"))),m.default.createElement("div",{className:"table-bd",key:a},"buy"!==a?m.default.createElement("div",{className:"trade-buy-box"},m.default.createElement(v.default,{ref:"sellorder"})):null,m.default.createElement("div",{className:"trade-current-amount "+n},m.default.createElement("div",{className:"count"},m.default.createElement("em",null,t.currentTradeCoin.currentAmountText),r),t.currentTradeCoinFiatCount?m.default.createElement("div",{className:"fiat-count"},l,m.default.createElement("span",{className:"value"},t.currentTradeCoinFiatCount)):null),"sell"!==a?m.default.createElement("div",{className:"trade-sell-box"},m.default.createElement(b.default,{ref:"buyorder"})):null)))}}]),t}(f.Component),s.defaultProps={tabs:["all","sell","buy"]},u=c))||u)||u;t.default=P},1030:function(e,t,a){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),d=a(7),f=(o=(0,d.inject)("tradeStore"))(i=(0,d.observer)(i=function(e){function t(){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.resetScrollTop()}},{key:"haneleClickOrder",value:function(e){var t=this.props.tradeStore;"market"!=t.tradeType&&(t.setDealBuyPrice(e.current),t.setDealSellPrice(e.current))}},{key:"resetScrollTop",value:function(){this.refs.scroller.scrollTop=0}},{key:"render",value:function(){var e=this,t=this.props.tradeStore;return c.default.createElement("div",{className:"trade-buy",ref:"scroller"},c.default.createElement("div",{className:"list-wrap"},c.default.createElement("ul",{className:"list"},t.entrust.buy.map(function(t,a){return c.default.createElement("li",{key:a,"data-type":"buy","data-index":t.index,onClick:e.haneleClickOrder.bind(e,t)},c.default.createElement("div",{className:"cell price greenrate"},t.newcurrent),c.default.createElement("div",{className:"cell number"},t.newnumber),c.default.createElement("div",{className:"cell total"},t.newtotal),c.default.createElement("div",{className:"bar",style:{width:t.depth+"%"}}))}))))}}]),t}(s.Component))||i)||i;t.default=f},1031:function(e,t,a){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),d=a(7),f=(o=(0,d.inject)("tradeStore"))(i=(0,d.observer)(i=function(e){function t(){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.resetScrollTop()}},{key:"resetScrollTop",value:function(){this.refs.scroller.scrollTop=2e3}},{key:"haneleClickOrder",value:function(e){var t=this.props.tradeStore;"market"!=t.tradeType&&(t.setDealBuyPrice(e.current),t.setDealSellPrice(e.current))}},{key:"render",value:function(){var e=this,t=this.props.tradeStore;return c.default.createElement("div",{className:"trade-sell"},c.default.createElement("div",{className:"list-wrap",ref:"scroller"},c.default.createElement("ul",{className:"list"},t.entrust.sell.map(function(t,a){return c.default.createElement("li",{key:a,"data-type":"sell","data-index":t.index,onClick:e.haneleClickOrder.bind(e,t)},c.default.createElement("div",{className:"cell price redrate"},t.newcurrent),c.default.createElement("div",{className:"cell number"},t.newnumber),c.default.createElement("div",{className:"cell total"},t.newtotal),c.default.createElement("div",{className:"bar",style:{width:t.depth+"%"}}))}))))}}]),t}(s.Component))||i)||i;t.default=f},1032:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s,c,d,f=a(1033),m=r(f),p=a(105),h=r(p),b=a(82),y=r(b),v=a(18),g=r(v),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a(1038),a(147),a(83),a(19);var P=a(0),C=r(P),k=a(7),S=a(11),w=a(1040),N=r(w),T=a(398),_=r(T),x=a(1041),O=r(x),M=a(148),U=r(M),B=a(68),j=r(B),I=(u=(0,k.inject)("tradeStore","authStore","userInfoStore"))(s=(0,k.observer)((d=c=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.goRecharge=function(e,t,r){var n=a.props.userInfoStore;if(!n.userInfo.uid)return void S.browserHistory.push("/login");var l=t===UPEX.config.baseCurrencyEn?"/account/balance/recharge":"/account/coin/recharge/"+t;if(a.gaTagTigger("fiat"==e?"FiatRecharge":"CoinRecharge"),"fiat"==e)if("infinitex"==UPEX.config.version)switch(n.userInfo.authLevel){case 0:a.showDialogGuideAuth();break;default:S.browserHistory.push(l)}else switch(n.userInfo.authLevel){case 0:a.showDialogGuideAuth();break;case 1:a.showDialogGuideBindCard();break;default:S.browserHistory.push(l)}else S.browserHistory.push(l)},a.onChangeBuySlider=function(e){a.props.tradeStore.dealBuyPrice&&a.props.tradeStore.setBuySliderValue(e)},a.onChangeSellSlider=function(e){a.props.tradeStore.setSellSliderValue(e)},a.onChange=function(e,t){var r=t.currentTarget.value.trim();a.action.updateInput(e,r)},a.checkTradePrice=function(e,t){var r=t.currentTarget.value.trim();a.props.tradeStore.checkTradePrice(r,e)},a.checkTradeNumber=function(e,t){var r=t.currentTarget.value.trim();a.props.tradeStore.checkTradeNumber(r,e)},a.submitOrder=function(e){var t=a.props.tradeStore,r=t.verifyInfoBeforeSubmit,n=(t.createTradeOrder,a.props.userInfoStore);if(0==n.userInfo.authLevel)return void a.showDialogGuideAuth();if(0==n.userInfo.isValidatePass)return void a.showDialogGuideTradePWD();var l=r(e);l.pass?a.action.createTradeOrder(e):"pwdpop"==l.action?a.refs.pwdpop.show(function(t){"buy"==e?a.props.tradeStore.setTradeBuyPassword(t):"sell"==e&&a.props.tradeStore.setTradeSellPassword(t),a.action.createTradeOrder(e)}):g.default.error(l.message)},a.tabs=[{id:"limit",title:UPEX.lang.template("限价委托title")},{id:"market",title:UPEX.lang.template("市价委托title")}],a.action=(0,O.default)(a.props.tradeStore,a.props.authStore),a}return i(t,e),E(t,[{key:"componentDidMount",value:function(){this.getBarTransform()}},{key:"gaTagTigger",value:function(e){U.default.click("webtrade"+e)}},{key:"showDialogGuideAuth",value:function(){y.default.confirm({prefixCls:"exc-dialog",width:540,className:"dark"==this.props.tradeStore.theme?"exc-dialog-dark":"exc-dialog-light",content:UPEX.lang.template("请先进行身份认证"),okText:UPEX.lang.template("去身份认证"),cancelText:UPEX.lang.template("我再想想"),onOk:function(){S.browserHistory.push("/user/authentication")}})}},{key:"showDialogGuideBindCard",value:function(){y.default.confirm({prefixCls:"exc-dialog",width:540,className:"dark"==this.props.tradeStore.theme?"exc-dialog-dark":"exc-dialog-light",content:UPEX.lang.template("绑定银行卡后可以进行充值"),okText:UPEX.lang.template("绑定银行卡"),cancelText:UPEX.lang.template("我再想想"),onOk:function(){S.browserHistory.push("/user/bankInfo")}})}},{key:"showDialogGuideTradePWD",value:function(){y.default.confirm({prefixCls:"exc-dialog",width:540,className:"dark"==this.props.tradeStore.theme?"exc-dialog-dark":"exc-dialog-light",content:UPEX.lang.template("交易前请先设置资金密码"),okText:UPEX.lang.template("资金密码设置"),cancelText:UPEX.lang.template("我再想想"),onOk:function(){S.browserHistory.push("/user/set-trade-pwd")}})}},{key:"handleClickTab",value:function(e){this.props.tradeStore.updateTradeType(e),this.getBarTransform()}},{key:"getBarTransform",value:function(){var e=0,t=$(this.refs.tabs),a=$(this.refs.bar);if(0!=t.length&&0!=a.length){var r=t.offset(),n=$('[data-key="limit"]',t).offset(),l=$('[data-key="market"]',t).offset(),o=$(a).offset();switch(this.props.tradeStore.tradeType){case"limit":e=n.left-r.left+(n.width/2-o.width/2);break;case"market":e=l.left-r.left+(l.width/2-o.width/2)}a.css({visibility:"visible",msTransform:"translate3d("+e+"px,0,0)",WebkitTransform:"translate3d("+e+"px,0,0)",transform:"translate3d("+e+"px,0,0)"})}}},{key:"render",value:function(){var e,t,a,r,l=this,o=this.props.tradeStore,i=this.props.authStore,u=void 0,s={0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"},c=o.currentTradeCoin,d=c.baseCurrencyNameEn,f=c.currencyNameEn;u=C.default.createElement("div",{className:"btn-box guide-btn"},C.default.createElement(S.Link,{to:"/login",onClick:function(e){l.gaTagTigger("Login")}},UPEX.lang.template("登录")),C.default.createElement("label",null,UPEX.lang.template("或")),C.default.createElement(S.Link,{to:"/register",onClick:function(e){l.gaTagTigger("Register")}},UPEX.lang.template("注册")),C.default.createElement("label",null,UPEX.lang.template("开始交易")));var p=d===UPEX.config.baseCurrencyEn?UPEX.lang.template("充值"):UPEX.lang.template("充币"),b=C.default.createElement("div",{className:"limit"==o.tradeType?"trade-form-mod":"trade-form-mod hidden"},C.default.createElement("div",{className:"trade-form-l"},C.default.createElement("ul",{className:"form-mod-hd"},C.default.createElement("li",{className:"name"},UPEX.lang.template("买入")," ",f),C.default.createElement("li",{className:"count"},C.default.createElement("label",null,UPEX.lang.template("余额")),C.default.createElement("em",null,o.personalAccount.baseCoinBalanceText),C.default.createElement("label",null,d)),C.default.createElement(h.default,{placement:"top",overlayClassName:"dark"==o.theme?"ant-tooltip-dark":"ant-tooltip-light",title:p},C.default.createElement("li",{className:"icon",onClick:this.goRecharge.bind(this,"fiat",d)}))),C.default.createElement("ul",{className:"form-mod-bd"},C.default.createElement("li",{className:"hidden"},C.default.createElement("label",null,UPEX.lang.template("最佳买价")),C.default.createElement("em",null,o.bestBuyPrice," (",d,")"," ")),C.default.createElement("li",{className:"item-input"},C.default.createElement("label",null,UPEX.lang.template("价格")),C.default.createElement("div",{className:"input-box"},C.default.createElement(h.default,{placement:"top",visible:""!=o.tradePriceErr,title:o.tradePriceErr},C.default.createElement(_.default,{type:"text",value:o.dealBuyPrice,precision:o.pointPrice,onChange:this.onChange.bind(this,"buyprice"),onBlur:this.checkTradePrice.bind(this,"buy")}))),C.default.createElement("i",null,d)),C.default.createElement("li",{className:"item-input"},C.default.createElement("label",null,UPEX.lang.template("数量")),C.default.createElement("div",{className:"input-box"},C.default.createElement(_.default,{type:"text",value:o.dealBuyNum,precision:o.pointNum,onChange:this.onChange.bind(this,"buynum"),onBlur:this.checkTradeNumber.bind(this,"buy")})),C.default.createElement("i",null,f)),C.default.createElement("li",{className:"item-slider"},C.default.createElement("div",{className:"slider-box"},C.default.createElement(m.default,(e={tipFormatter:null,marks:s},n(e,"tipFormatter",function(e){return e+"%"}),n(e,"onChange",this.onChangeBuySlider),n(e,"value",o.buySliderValue),n(e,"disabled",!i.isLogin),e)))),C.default.createElement("li",{className:"item-input disabled"},C.default.createElement("label",null,UPEX.lang.template("总金额")),C.default.createElement("div",{className:"input-box"},C.default.createElement("input",{value:o.dealBuyTotalAmount,disabled:!0})),C.default.createElement("i",null,d)),C.default.createElement("li",{className:"item-submit"},i.isLogin?C.default.createElement("button",{type:"button",className:"btn-box buy",onClick:this.submitOrder.bind(this,"buy")},UPEX.lang.template("买入")):u))),C.default.createElement("div",{className:"trade-form-r"},C.default.createElement("ul",{className:"form-mod-hd"},C.default.createElement("li",{className:"name"},UPEX.lang.template("卖出")," ",f),C.default.createElement("li",{className:"count"},C.default.createElement("label",null,UPEX.lang.template("余额")),C.default.createElement("em",null,o.personalAccount.tradeCoinBalanceText),C.default.createElement("label",null,f)),C.default.createElement(h.default,{placement:"top",overlayClassName:"dark"==o.theme?"ant-tooltip-dark":"ant-tooltip-light",title:UPEX.lang.template("充币")},C.default.createElement("li",{className:"icon",onClick:this.goRecharge.bind(this,"coin",f)}))),C.default.createElement("ul",{className:"form-mod-bd"},C.default.createElement("li",{className:"hidden"},C.default.createElement("label",null,UPEX.lang.template("最佳卖价")),C.default.createElement("em",null,o.bestSellPrice," (",d,")"," ")),C.default.createElement("li",{className:"item-input"},C.default.createElement("label",null,UPEX.lang.template("价格")),C.default.createElement("div",{className:"input-box"},C.default.createElement(_.default,{type:"text",value:o.dealSellPrice,precision:o.pointPrice,onChange:this.onChange.bind(this,"sellprice"),onBlur:this.checkTradePrice.bind(this,"sell")})),C.default.createElement("i",null,d)),C.default.createElement("li",{className:"item-input"},C.default.createElement("label",null,UPEX.lang.template("数量")),C.default.createElement("div",{className:"input-box"},C.default.createElement(_.default,{type:"text",value:o.dealSellNum,precision:o.pointNum,onChange:this.onChange.bind(this,"sellnum"),onBlur:this.checkTradeNumber.bind(this,"sell")})),C.default.createElement("i",null,f)),C.default.createElement("li",{className:"item-slider"},C.default.createElement("div",{className:"slider-box"},C.default.createElement(m.default,(t={defaultValue:0,tipFormatter:null,marks:s},n(t,"tipFormatter",function(e){return e+"%"}),n(t,"onChange",this.onChangeSellSlider),n(t,"value",o.sellSliderValue),n(t,"disabled",!i.isLogin),t)))),C.default.createElement("li",{className:"item-input disabled"},C.default.createElement("label",null,UPEX.lang.template("总金额")),C.default.createElement("div",{className:"input-box"},C.default.createElement("input",{value:o.dealSellTotalAmount,disabled:!0})),C.default.createElement("i",null,d)),C.default.createElement("li",{className:"item-submit"},i.isLogin?C.default.createElement("button",{type:"button",className:"btn-box sell",onClick:this.submitOrder.bind(this,"sell")},UPEX.lang.template("卖出")):u)))),y=C.default.createElement("div",{className:"market"==o.tradeType?"trade-form-mod":"trade-form-mod hidden"},C.default.createElement("div",{className:"trade-form-l"},C.default.createElement(j.default,null),C.default.createElement("ul",{className:"form-mod-hd"},C.default.createElement("li",{className:"name"},UPEX.lang.template("买入")," ",f),C.default.createElement("li",{className:"count"},C.default.createElement("label",null,UPEX.lang.template("余额")),C.default.createElement("em",null,o.personalAccount.baseCoinBalanceText),C.default.createElement("label",null,d)),C.default.createElement(h.default,{placement:"top",overlayClassName:"dark"==o.theme?"ant-tooltip-dark":"ant-tooltip-light",title:p},C.default.createElement("li",{className:"icon",onClick:this.goRecharge.bind(this,"fiat",d)}))),C.default.createElement("ul",{className:"form-mod-bd"},C.default.createElement("li",{className:"hidden"},C.default.createElement("label",null,UPEX.lang.template("最佳买价")),C.default.createElement("em",null,o.bestBuyPrice," (",d,")"," ")),C.default.createElement("li",{className:"item-input disabled"},C.default.createElement("label",null,UPEX.lang.template("价格")),C.default.createElement("div",{className:"input-box"},C.default.createElement(_.default,{type:"text",disabled:!0,value:"market"==o.tradeType?UPEX.lang.template("市场价格"):o.dealBuyPrice,precision:o.pointPrice,onChange:this.onChange.bind(this,"buyprice"),onBlur:this.checkTradePrice.bind(this,"buy")})),C.default.createElement("i",null,d)),C.default.createElement("li",{className:"item-input"},C.default.createElement("label",null,UPEX.lang.template("数量")),C.default.createElement("div",{className:"input-box"},C.default.createElement(_.default,{type:"text",value:o.dealBuyNum,precision:o.pointNum,onChange:this.onChange.bind(this,"buynum"),onBlur:this.checkTradeNumber.bind(this,"buy")})),C.default.createElement("i",null,f)),C.default.createElement("li",{className:"item-slider"},C.default.createElement("div",{className:"slider-box"},C.default.createElement(m.default,(a={tipFormatter:null,marks:s},n(a,"tipFormatter",function(e){return e+"%"}),n(a,"onChange",this.onChangeBuySlider),n(a,"value",o.buySliderValue),n(a,"disabled",!i.isLogin),a)))),C.default.createElement("li",{className:"item-input disabled"},C.default.createElement("div",{className:"total"},UPEX.lang.template("总金额")," ≈ ",o.dealBuyTotalAmount,d,"(",UPEX.lang.template("仅供参考"),")")),C.default.createElement("li",{className:"item-submit"},i.isLogin?C.default.createElement("button",{type:"button",className:"btn-box buy",onClick:this.submitOrder.bind(this,"buy")},UPEX.lang.template("买入")):u))),C.default.createElement("div",{className:"trade-form-r"},C.default.createElement(j.default,null),C.default.createElement("ul",{className:"form-mod-hd"},C.default.createElement("li",{className:"name"},UPEX.lang.template("卖出")," ",f),C.default.createElement("li",{className:"count"},C.default.createElement("label",null,UPEX.lang.template("余额")),C.default.createElement("em",null,o.personalAccount.tradeCoinBalanceText),C.default.createElement("label",null,f)),C.default.createElement(h.default,{placement:"top",overlayClassName:"dark"==o.theme?"ant-tooltip-dark":"ant-tooltip-light",title:UPEX.lang.template("充币")},C.default.createElement("li",{className:"icon",onClick:this.goRecharge.bind(this,"coin",f)}))),C.default.createElement("ul",{className:"form-mod-bd"},C.default.createElement("li",{className:"hidden"},C.default.createElement("label",null,UPEX.lang.template("最佳卖价")),C.default.createElement("em",null,o.bestSellPrice," (",d,")"," ")),C.default.createElement("li",{className:"item-input disabled"},C.default.createElement("label",null,UPEX.lang.template("价格")),C.default.createElement("div",{className:"input-box"},C.default.createElement(_.default,{type:"text",disabled:!0,value:"market"==o.tradeType?UPEX.lang.template("市场价格"):o.dealSellPrice,precision:o.pointPrice,onChange:this.onChange.bind(this,"sellprice"),onBlur:this.checkTradePrice.bind(this,"sell")})),C.default.createElement("i",null,d)),C.default.createElement("li",{className:"item-input"},C.default.createElement("label",null,UPEX.lang.template("数量")),C.default.createElement("div",{className:"input-box"},C.default.createElement(_.default,{type:"text",value:o.dealSellNum,precision:o.pointNum,onChange:this.onChange.bind(this,"sellnum"),onBlur:this.checkTradeNumber.bind(this,"sell")})),C.default.createElement("i",null,f)),C.default.createElement("li",{className:"item-slider"},C.default.createElement("div",{className:"slider-box"},C.default.createElement(m.default,(r={defaultValue:0,tipFormatter:null,marks:s},n(r,"tipFormatter",function(e){return e+"%"}),n(r,"onChange",this.onChangeSellSlider),n(r,"value",o.sellSliderValue),n(r,"disabled",!i.isLogin),r)))),C.default.createElement("li",{className:"item-input disabled"},C.default.createElement("div",{className:"total"},UPEX.lang.template("总金额")," ≈ ",o.dealSellTotalAmount,d,"(",UPEX.lang.template("仅供参考"),")")),C.default.createElement("li",{className:"item-submit"},i.isLogin?C.default.createElement("button",{type:"button",className:"btn-box sell",onClick:this.submitOrder.bind(this,"sell")},UPEX.lang.template("卖出")):u))));return C.default.createElement("div",{className:"trade-form"},C.default.createElement(j.default,null),C.default.createElement("div",{className:"trade-form-hd","data-type":o.tradeType},C.default.createElement("ul",{ref:"tabs"},this.tabs.map(function(e,t){var a=o.tradeType==e.id?"selected":"";return C.default.createElement("li",{key:e.id,"data-role":"tab","data-key":e.id,className:a,onClick:l.handleClickTab.bind(l,e.id)},e.title)}),C.default.createElement("li",{key:"bar","data-role":"bar",ref:"bar",className:"tab-bar exc-tab-animated"}))),C.default.createElement("div",{className:"trade-form-bd clearfix"},b,y),C.default.createElement(N.default,{ref:"pwdpop",prefix:"exc-pwdpop exc-pwdpop-"+o.theme}))}}]),t}(P.Component),c.defaultProps={data:{baseCurrencyId:"",baseCurrencyNameEn:"",tradeCurrencyId:"",tradeCurrencyNameEn:"",pointPrice:"",pointNum:""}},s=d))||s)||s;t.default=I},1033:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),l=r(n),o=a(6),i=r(o),u=a(3),s=r(u),c=a(10),d=r(c),f=a(4),m=r(f),p=a(5),h=r(p),b=a(0),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(b),v=a(1034),g=r(v),E=a(1037),P=r(E),C=a(1006),k=r(C),S=a(105),w=r(S),N=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]]);return a},T=function(e){function t(e){(0,s.default)(this,t);var a=(0,m.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleTooltipVisible=function(e,t){a.setState(function(a){var r=a.visibles;return{visibles:(0,i.default)({},r,(0,l.default)({},e,t))}})},a.handleWithTooltip=function(e){var t=e.value,r=e.dragging,n=e.index,l=N(e,["value","dragging","index"]),o=a.props,u=o.tooltipPrefixCls,s=o.tipFormatter,c=a.state.visibles,d=!!s&&(c[n]||r);return y.createElement(w.default,{prefixCls:u,title:s?s(t):"",visible:d,placement:"top",transitionName:"zoom-down",key:n},y.createElement(k.default,(0,i.default)({},l,{value:t,onMouseEnter:function(){return a.toggleTooltipVisible(n,!0)},onMouseLeave:function(){return a.toggleTooltipVisible(n,!1)}})))},a.saveSlider=function(e){a.rcSlider=e},a.state={visibles:{}},a}return(0,h.default)(t,e),(0,d.default)(t,[{key:"focus",value:function(){this.rcSlider.focus()}},{key:"blur",value:function(){this.rcSlider.focus()}},{key:"render",value:function(){var e=this.props,t=e.range,a=N(e,["range"]);return t?y.createElement(P.default,(0,i.default)({},a,{ref:this.saveSlider,handle:this.handleWithTooltip})):y.createElement(g.default,(0,i.default)({},a,{ref:this.saveSlider,handle:this.handleWithTooltip}))}}]),t}(y.Component);t.default=T,T.defaultProps={prefixCls:"ant-slider",tooltipPrefixCls:"ant-tooltip",tipFormatter:function(e){return e.toString()}},e.exports=t.default},1034:function(e,t,a){"use strict";(function(r){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var l=a(6),o=n(l),i=a(3),u=n(i),s=a(4),c=n(s),d=a(5),f=n(d),m=a(0),p=n(m),h=a(2),b=n(h),y=a(42),v=n(y),g=a(1004),E=n(g),P=a(1005),C=n(P),k=a(1003),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(k),w=function(e){function t(a){(0,u.default)(this,t);var n=(0,c.default)(this,e.call(this,a));n.onEnd=function(){n.setState({dragging:!1}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var l=void 0!==a.defaultValue?a.defaultValue:a.min,o=void 0!==a.value?a.value:l;return n.state={value:n.trimAlignValue(o),dragging:!1},"production"!==r.env.NODE_ENV&&((0,v.default)(!("minimumTrackStyle"in a),"minimumTrackStyle will be deprecate, please use trackStyle instead."),(0,v.default)(!("maximumTrackStyle"in a),"maximumTrackStyle will be deprecate, please use railStyle instead.")),n}return(0,f.default)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.autoFocus,a=e.disabled;t&&!a&&this.focus()},t.prototype.componentWillReceiveProps=function(e){if("value"in e||"min"in e||"max"in e){var t=this.state.value,a=void 0!==e.value?e.value:t,r=this.trimAlignValue(a,e);r!==t&&(this.setState({value:r}),S.isValueOutOfRange(a,e)&&this.props.onChange(r))}},t.prototype.onChange=function(e){var t=this.props;!("value"in t)&&this.setState(e);var a=e.value;t.onChange(a)},t.prototype.onStart=function(e){this.setState({dragging:!0});var t=this.props,a=this.getValue();t.onBeforeChange(a);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==a&&this.onChange({value:r})},t.prototype.onMove=function(e,t){S.pauseEvent(e);var a=this.state.value,r=this.calcValueByPos(t);r!==a&&this.onChange({value:r})},t.prototype.onKeyboard=function(e){var t=S.getKeyboardValueMutator(e);if(t){S.pauseEvent(e);var a=this.state,r=a.value,n=t(r,this.props),l=this.trimAlignValue(n);if(l===r)return;this.onChange({value:l})}},t.prototype.getValue=function(){return this.state.value},t.prototype.getLowerBound=function(){return this.props.min},t.prototype.getUpperBound=function(){return this.state.value},t.prototype.trimAlignValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,o.default)({},this.props,t),r=S.ensureValueInRange(e,a);return S.ensureValuePrecision(r,a)},t.prototype.render=function(){var e=this,t=this.props,a=t.prefixCls,r=t.vertical,n=t.included,l=t.disabled,i=t.minimumTrackStyle,u=t.trackStyle,s=t.handleStyle,c=t.min,d=t.max,f=t.handle,m=this.state,h=m.value,b=m.dragging,y=this.calcOffset(h),v=f({className:a+"-handle",vertical:r,offset:y,value:h,dragging:b,disabled:l,min:c,max:d,index:0,style:s[0]||s,ref:function(t){return e.saveHandle(0,t)}}),g=u[0]||u;return{tracks:p.default.createElement(E.default,{className:a+"-track",vertical:r,included:n,offset:0,length:y,style:(0,o.default)({},i,g)}),handles:v}},t}(p.default.Component);w.propTypes={defaultValue:b.default.number,value:b.default.number,disabled:b.default.bool,autoFocus:b.default.bool},t.default=(0,C.default)(w),e.exports=t.default}).call(t,a(1))},1035:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(6),l=r(n),o=a(0),i=r(o),u=a(8),s=r(u),c=a(42),d=r(c),f=function(e,t,a,r,n,l){(0,d.default)(!a||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var o=Object.keys(t).map(parseFloat);if(a)for(var i=n;i<=l;i+=r)o.indexOf(i)>=0||o.push(i);return o},m=function(e){var t=e.prefixCls,a=e.vertical,r=e.marks,n=e.dots,o=e.step,u=e.included,c=e.lowerBound,d=e.upperBound,m=e.max,p=e.min,h=e.dotStyle,b=e.activeDotStyle,y=m-p,v=f(0,r,n,o,p,m).map(function(e){var r,n=Math.abs(e-p)/y*100+"%",o=!u&&e===d||u&&e<=d&&e>=c,f=a?(0,l.default)({bottom:n},h):(0,l.default)({left:n},h);o&&(f=(0,l.default)({},f,b));var m=(0,s.default)((r={},r[t+"-dot"]=!0,r[t+"-dot-active"]=o,r));return i.default.createElement("span",{className:m,style:f,key:e})});return i.default.createElement("div",{className:t+"-step"},v)};t.default=m,e.exports=t.default},1036:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(6),l=r(n),o=a(0),i=r(o),u=a(8),s=r(u),c=function(e){var t=e.className,a=e.vertical,r=e.marks,n=e.included,o=e.upperBound,u=e.lowerBound,c=e.max,d=e.min,f=Object.keys(r),m=f.length,p=m>1?100/(m-1):100,h=.9*p,b=c-d,y=f.map(parseFloat).sort(function(e,t){return e-t}).map(function(e){var c,f=r[e],m="object"==typeof f&&!i.default.isValidElement(f),p=m?f.label:f;if(!p)return null;var y=!n&&e===o||n&&e<=o&&e>=u,v=(0,s.default)((c={},c[t+"-text"]=!0,c[t+"-text-active"]=y,c)),g={marginBottom:"-50%",bottom:(e-d)/b*100+"%"},E={width:h+"%",marginLeft:-h/2+"%",left:(e-d)/b*100+"%"},P=a?g:E,C=m?(0,l.default)({},P,f.style):P;return i.default.createElement("span",{className:v,style:C,key:e},p)});return i.default.createElement("div",{className:t},y)};t.default=c,e.exports=t.default},1037:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(6),l=r(n),o=a(3),i=r(o),u=a(4),s=r(u),c=a(5),d=r(c),f=a(0),m=r(f),p=a(2),h=r(p),b=a(8),y=r(b),v=a(85),g=r(v),E=a(42),P=r(E),C=a(1004),k=r(C),S=a(1005),w=r(S),N=a(1003),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(N),_=function(e){function t(a){(0,i.default)(this,t);var r=(0,s.default)(this,e.call(this,a));r.onEnd=function(){r.setState({handle:null}),r.removeDocumentEvents(),r.props.onAfterChange(r.getValue())};var n=a.count,l=a.min,o=a.max,u=Array.apply(null,Array(n+1)).map(function(){return l}),c="defaultValue"in a?a.defaultValue:u,d=void 0!==a.value?a.value:c,f=d.map(function(e){return r.trimAlignValue(e)}),m=f[0]===o?0:f.length-1;return r.state={handle:null,recent:m,bounds:f},r}return(0,d.default)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;if(("value"in e||"min"in e||"max"in e)&&(this.props.min!==e.min||this.props.max!==e.max||!(0,g.default)(this.props.value,e.value))){var a=this.state.bounds,r=e.value||a,n=r.map(function(a){return t.trimAlignValue(a,e)});n.length===a.length&&n.every(function(e,t){return e===a[t]})||(this.setState({bounds:n}),a.some(function(t){return T.isValueOutOfRange(t,e)})&&this.props.onChange(n))}},t.prototype.onChange=function(e){var t=this.props;"value"in t?void 0!==e.handle&&this.setState({handle:e.handle}):this.setState(e);var a=(0,l.default)({},this.state,e),r=a.bounds;t.onChange(r)},t.prototype.onStart=function(e){var t=this.props,a=this.state,r=this.getValue();t.onBeforeChange(r);var n=this.calcValueByPos(e);this.startValue=n,this.startPosition=e;var l=this.getClosestBound(n),o=this.getBoundNeedMoving(n,l);if(this.setState({handle:o,recent:o}),n!==r[o]){var i=[].concat(a.bounds);i[o]=n,this.onChange({bounds:i})}},t.prototype.onMove=function(e,t){T.pauseEvent(e);var a=this.props,r=this.state,n=this.calcValueByPos(t);if(n!==r.bounds[r.handle]){var l=[].concat(r.bounds);l[r.handle]=n;var o=r.handle;if(!1!==a.pushable){var i=r.bounds[o];this.pushSurroundingHandles(l,o,i)}else a.allowCross&&(l.sort(function(e,t){return e-t}),o=l.indexOf(n));this.onChange({handle:o,bounds:l})}},t.prototype.onKeyboard=function(){(0,P.default)(!0,"Keyboard support is not yet supported for ranges.")},t.prototype.getValue=function(){return this.state.bounds},t.prototype.getClosestBound=function(e){for(var t=this.state.bounds,a=0,r=1;r<t.length-1;++r)e>t[r]&&(a=r);return Math.abs(t[a+1]-e)<Math.abs(t[a]-e)&&(a+=1),a},t.prototype.getBoundNeedMoving=function(e,t){var a=this.state,r=a.bounds,n=a.recent,l=t,o=r[t+1]===r[t];return o&&r[n]===r[t]&&(l=n),o&&e!==r[t+1]&&(l=e<r[t+1]?t:t+1),l},t.prototype.getLowerBound=function(){return this.state.bounds[0]},t.prototype.getUpperBound=function(){var e=this.state.bounds;return e[e.length-1]},t.prototype.getPoints=function(){var e=this.props,t=e.marks,a=e.step,r=e.min,n=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==a){var i=(0,l.default)({},t);if(null!==a)for(var u=r;u<=n;u+=a)i[u]=u;var s=Object.keys(i).map(parseFloat);s.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:a,points:s}}return this._getPointsCache.points},t.prototype.pushSurroundingHandles=function(e,t,a){var r=this.props.pushable,n=e[t],l=0;if(e[t+1]-n<r&&(l=1),n-e[t-1]<r&&(l=-1),0!==l){var o=t+l,i=l*(e[o]-n);this.pushHandle(e,o,l,r-i)||(e[t]=a)}},t.prototype.pushHandle=function(e,t,a,r){for(var n=e[t],l=e[t];a*(l-n)<r;){if(!this.pushHandleOnePoint(e,t,a))return e[t]=n,!1;l=e[t]}return!0},t.prototype.pushHandleOnePoint=function(e,t,a){var r=this.getPoints(),n=r.indexOf(e[t]),l=n+a;if(l>=r.length||l<0)return!1;var o=t+a,i=r[l],u=this.props.pushable,s=a*(e[o]-i);return!!this.pushHandle(e,o,a,u-s)&&(e[t]=i,!0)},t.prototype.trimAlignValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,l.default)({},this.props,t),r=T.ensureValueInRange(e,a),n=this.ensureValueNotConflict(r,a);return T.ensureValuePrecision(n,a)},t.prototype.ensureValueNotConflict=function(e,t){var a=t.allowCross,r=this.state||{},n=r.handle,l=r.bounds;if(!a&&null!=n){if(n>0&&e<=l[n-1])return l[n-1];if(n<l.length-1&&e>=l[n+1])return l[n+1]}return e},t.prototype.render=function(){var e=this,t=this.state,a=t.handle,r=t.bounds,n=this.props,l=n.prefixCls,o=n.vertical,i=n.included,u=n.disabled,s=n.min,c=n.max,d=n.handle,f=n.trackStyle,p=n.handleStyle,h=r.map(function(t){return e.calcOffset(t)}),b=l+"-handle",v=r.map(function(t,r){var n;return d({className:(0,y.default)((n={},n[b]=!0,n[b+"-"+(r+1)]=!0,n)),vertical:o,offset:h[r],value:t,dragging:a===r,index:r,min:s,max:c,disabled:u,style:p[r],ref:function(t){return e.saveHandle(r,t)}})});return{tracks:r.slice(0,-1).map(function(e,t){var a,r=t+1,n=(0,y.default)((a={},a[l+"-track"]=!0,a[l+"-track-"+r]=!0,a));return m.default.createElement(k.default,{className:n,vertical:o,included:i,offset:h[r-1],length:h[r]-h[r-1],style:f[t],key:r})}),handles:v}},t}(m.default.Component);_.displayName="Range",_.propTypes={defaultValue:h.default.arrayOf(h.default.number),value:h.default.arrayOf(h.default.number),count:h.default.number,pushable:h.default.oneOfType([h.default.bool,h.default.number]),allowCross:h.default.bool,disabled:h.default.bool},_.defaultProps={count:1,allowCross:!0,pushable:!1},t.default=(0,w.default)(_),e.exports=t.default},1038:function(e,t,a){"use strict";a(25),a(1039),a(147)},1039:function(e,t){},1040:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s=a(82),c=r(s),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a(83);var f=a(0),m=r(f),p=a(13),h=(r(p),a(68)),b=r(h),y=(u=i=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.show=function(e){a.onSubmit=e,a.setState({validPwd:!0,visible:!0},function(){a.refs.input.value=""})},a.handleCancel=function(e){a.hideModal()},a.handleSubmit=function(e){var t=a.refs.input.value.trim();t&&(a.handleCancel(),a.onSubmit(t))},a.hideModal=function(){a.setState({visible:!1})},a.onBlur=function(e){a.refs.input.value.trim()?a.setState({validPwd:!0}):a.setState({validPwd:!1})},a.state={validPwd:!0,visible:!1},a}return o(t,e),d(t,[{key:"render",value:function(){return m.default.createElement(c.default,{ref:"modal",width:"540",wrapClassName:"vertical-center-modal "+this.props.prefix,title:UPEX.lang.template("输入资金密码"),visible:this.state.visible,onCancel:this.handleCancel.bind(this),footer:null},m.default.createElement("div",{className:"popup-trade-password"},m.default.createElement("div",{className:"input-area clearfix"},m.default.createElement(b.default,null),m.default.createElement("div",{className:(this.state.validPwd,"input-box")},m.default.createElement("input",{ref:"input",type:"password",onBlur:this.onBlur.bind(this)}))),m.default.createElement("button",{type:"button",className:"submit",onClick:this.handleSubmit.bind(this)},UPEX.lang.template("提交"))))}}]),t}(f.Component),i.defaultProps={prefix:""},u);t.default=y},1041:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(18),l=r(n);a(19);var o=a(9),i=(a(120),a(71)),u=r(i);t.default=function(e,t){return{updateInput:function(t,a){switch(t){case"buyprice":e.setDealBuyPrice(a);break;case"buynum":e.setDealBuyNum(a);break;case"sellprice":e.setDealSellPrice(a);break;case"sellnum":e.setDealSellNum(a);break;case"sellpwd":e.setTradeSellPassword(a);break;case"buypwd":e.setTradeBuyPassword(a)}},createTradeOrder:function(t){var a={};e.submiting||(e.updateSubmiting(1),"buy"==t?(a={buyOrSell:1,currencyId:e.tradePair.tradeCurrencyId,baseCurrencyId:e.tradePair.baseCurrencyId,fdPassword:"",num:e.dealBuyNum,price:e.dealBuyPrice,source:1,type:1},1==e.tradePasswordStatus&&(a.fdPassword=(0,u.default)(e.tradeBuyPassword+UPEX.config.dealSalt+e.authStore.uid))):(a={buyOrSell:2,baseCurrencyId:e.tradePair.baseCurrencyId,currencyId:e.tradePair.tradeCurrencyId,fdPassword:"",num:e.dealSellNum,price:e.dealSellPrice,source:1,type:1},1==e.tradePasswordStatus&&(a.fdPassword=(0,u.default)(e.tradeSellPassword+UPEX.config.dealSalt+e.authStore.uid))),"market"==e.tradeType&&(a.type=2,a.price=0),(0,o.submitOrder)(a).then(function(a){switch(e.updateSubmiting(0),a.status){case 200:"buy"==t?(e.setDealBuyPrice(""),e.setDealBuyNum(""),e.setTradeBuyPassword("")):(e.setDealSellPrice(""),e.setDealSellNum(""),e.setTradeSellPassword("")),$.channel.emit("updateUserAccount"),l.default.success(UPEX.lang.template("下单成功"));break;case 2013:"buy"==t?e.setTradeBuyPassword(""):e.setTradeSellPassword(""),l.default.error(a.message);break;default:l.default.error(a.message)}}).catch(function(){e.updateSubmiting(0)}))}}}},1042:function(e,t,a){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s=a(105),c=r(s),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a(147);var f=a(0),m=r(f),p=a(7),h=a(399),b=r(h),y=a(400),v=r(y),g=(i=(0,p.inject)("tradeStore"))(u=(0,p.observer)(u=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleExpand=function(e){var t=!a.props.tradeStore.expandOrderTable;a.props.tradeStore.isExpandOrderTable(t)},a.tabs=[{title:UPEX.lang.template("委托中订单")},{title:UPEX.lang.template("已完成订单")}],a.state={tabIndex:0},a}return o(t,e),d(t,[{key:"componentDidMount",value:function(){this.getBarTransform()}},{key:"handleClickTab",value:function(e){var t=this;this.setState({tabIndex:e},function(){t.getBarTransform()})}},{key:"getBarTransform",value:function(){var e=0,t=$(this.refs.tabs),a=$(this.refs.bar);if(0!=t.length&&0!=a.length){var r=t.offset(),n=$('[data-role="tab"]',t),l=$(a).offset(),o=n.eq(this.state.tabIndex),i=o.offset();e=i.left-r.left+(i.width/2-l.width/2),a.css({visibility:"visible",msTransform:"translate3d("+e+"px,0,0)",WebkitTransform:"translate3d("+e+"px,0,0)",transform:"translate3d("+e+"px,0,0)"})}}},{key:"render",value:function(){var e=this,t=this.props.tradeStore,a=this.state.tabIndex;return m.default.createElement("div",{className:"trade-order-wrapper"},m.default.createElement("div",{className:"trade-order-hd clearfix"},m.default.createElement("ul",{ref:"tabs"},this.tabs.map(function(t,r){var n=a==r?"selected":"";return m.default.createElement("li",{key:r,"data-key":t.id,"data-role":"tab",className:n,onClick:e.handleClickTab.bind(e,r)},t.title)}),m.default.createElement("li",{key:"bar","data-role":"bar",ref:"bar",className:"tab-bar exc-tab-animated"})),m.default.createElement("div",{className:"action-btn",onClick:this.handleExpand,ref:"actionbtn"},t.expandOrderTable?m.default.createElement(c.default,{placement:"right",overlayClassName:"dark"==t.theme?"ant-tooltip-dark":"ant-tooltip-light",title:UPEX.lang.template("收起")},m.default.createElement("i",{className:"icon-close"})):m.default.createElement(c.default,{placement:"right",overlayClassName:"dark"==t.theme?"ant-tooltip-dark":"ant-tooltip-light",title:UPEX.lang.template("展开")},m.default.createElement("i",{className:"icon-open"})))),m.default.createElement("div",{className:"trade-order-bd"},0==a?m.default.createElement(b.default,{from:"tradecenter"}):m.default.createElement(v.default,{from:"tradecenter"})))}}]),t}(f.Component))||u)||u;t.default=g},1043:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var r=a(9),n=a(120),l=a(20),o=function(e){return e&&e.__esModule?e:{default:e}}(l),i=0;t.default=function(e,t){return{sendSubscribe:function(){var t=e.tradePair,a=t.baseCurrencyId,r=t.tradeCurrencyId;n.socket.off("subscribe"),n.socket.emit("subscribe",{baseCurrencyId:a,tradeCurrencyId:r}),n.socket.on("subscribe",function(e){})},bindOrderSocket:function(e,t){this.bindRegister(e,t),this.bindUserOpenList(),this.bindUserSuccessList()},bindRegister:function(e,t){var a=0;!function r(){n.socket.emit("register",{uid:e,token:t}),n.socket.on("register",function(e){e&&"succ"===e||++a<3&&r()})}()},bindUserOpenList:function(){var t=function(t){t=t||{},2!==t.type&&(e.openStore.updateItem(t),e.updatePersonalAccount({baseCoinBalance:t.baseCurrencyNum,tradeCoinBalance:t.currencyNum,tradeCurrencyId:t.currencyId}))};n.socket.on("userOrder",function(e){if($.isArray(e))for(var a=0,r=e.length;a<r;a++)t(e[a]);else t(e)})},bindUserSuccessList:function(){var t=function(t){t=t||{},e.successStore.updateItem(t),e.openStore.updateItem(t),e.updatePersonalAccount({baseCoinBalance:t.baseCurrencyNum,tradeCoinBalance:t.currencyNum,tradeCurrencyId:t.currencyId})};n.socket.on("userTrade",function(e){if($.isArray(e))for(var a=0,r=e.length;a<r;a++)t(e[a]);else t(e)})},getPersonalTradingPwd:function(){(0,r.getPersonalTradingPwd)().then(function(t){200==t.status&&e.updateTradePasswordStatus(t.attachment.enabled)})},getUserAccount:function(t,a){function r(){n.socket.emit("userAccount",{uid:t,token:a,tradeCurrencyId:u,baseCurrencyId:o})}var l=e.tradePair,o=l.baseCurrencyId,u=l.tradeCurrencyId;n.socket.off("userAccount"),0===i?(i=1,setTimeout(function(){r()},200)):r(),n.socket.on("userAccount",function(t){t.baseCoinBalance=t.baseCoinBalance||0,t.tradeCoinBalance=t.tradeCoinBalance||0,e.updatePersonalAccount(t)})},getCurrentCoin:function(){var t=this,a=e.tradePair,r=a.baseCurrencyId,l=a.tradeCurrencyId;n.socket.off("quoteOne"),n.socket.emit("quoteOne",{baseCurrencyId:r,tradeCurrencyId:l}),n.socket.on("quoteOne",function(a){var r=void 0;a.length>0&&a[0].tradeCoins.length>0&&(r=t.parseCoinItem(a[0].tradeCoins[0]),e.updateCurrentTradeCoin(r),e.setDealBuyPrice(r.currentAmountInt),e.setDealSellPrice(r.currentAmountInt))})},parseCoinItem:function(e){return e.changeRateText=o.default.asPercent(e.changeRate),e.currentAmountText=o.default.formatNumber(e.currentAmount,e.pointPrice),e.currentAmountInt=o.default.initNumber(e.currentAmount,e.pointPrice),e.highPriceText=o.default.formatNumber(e.highPrice,e.pointPrice),e.lowPriceText=o.default.formatNumber(e.lowPrice,e.pointPrice),e.openPriceText=o.default.formatNumber(e.openPrice,e.pointPrice),e.closePriceText=o.default.formatNumber(e.closePrice,e.pointPrice),e.volumeText=o.default.formatNumber(e.volume,e.pointNum),e.amountText=o.default.formatNumber(e.amount,e.pointPrice),e},listenQuoteNotify:function(){var t=this,a=e.tradePair,r=a.baseCurrencyId,l=a.tradeCurrencyId;n.socket.off("quoteNotify"),n.socket.emit("quoteNotify"),n.socket.on("quoteNotify",function(a){var n=t.parseCoinItem(a);if(r!=a.baseCurrencyId||l!=a.currencyId)return void console.log("no match id");e.updateCurrentTradeCoin(n),"market"==e.tradeType&&(e.setDealBuyPrice(n.currentAmountInt),e.setDealSellPrice(n.currentAmountInt))})},getEntrust:function(){var a=this,r=e.tradePair,l=r.baseCurrencyId,o=r.tradeCurrencyId;n.socket.off("entrust"),n.socket.emit("entrust",{baseCurrencyId:l,tradeCurrencyId:o}),n.socket.on("entrust",function(r){if(l!=r.baseCurrencyId||o!=r.tradeCurrencyId)return void console.log("no match id");var n=[r.baseCurrencyId,r.tradeCurrencyId].join("_"),i=t.getCurrencyById(n),u=i.pointNum,s=i.pointPrice;r=a.parseEntrust(r,u,s),e.updateEntrust(r);var c=a.processData(r.sell,"asks",!1,u,s),d=a.processData(r.buy,"bids",!0,u,s);e.updateAsks(c),e.updateBids(d)})},parseBestBuyPrice:function(t,a){var r=t&&t[0]?t[0].price:0;return r=r||e.currentTradeCoin.currentAmount,o.default.initNumber(r||0,a)},parseBestSellPrice:function(t,a){var r=t&&t[0]?t[0].price:0;return r=r||e.currentTradeCoin.currentAmount,o.default.initNumber(r||0,a)},parseEntrust:function(e,t,a){var r=e.buy||[],n=e.sell||[],l=e.entrustScale;return r.forEach(function(e,r){var n=e.number*e.current/l;n*=100;var i=parseInt(n.toFixed(t));e.index=r+1,e.depth=Math.max(i>100?100:i,1),e.current=o.default.initNumber(e.current,a),e.newcurrent=o.default.formatNumber(e.current,a),e.number=o.default.initNumber(e.number,t),e.newnumber=o.default.formatNumber(e.number,t),e.newtotal=o.default.formatNumber(e.current*e.number,a)}),n.forEach(function(e,r){var n=e.number*e.current/l;n*=100;var i=parseInt(n.toFixed(t));e.index=r+1,e.depth=Math.max(i>100?100:i,1),e.current=o.default.initNumber(e.current,a),e.newcurrent=o.default.formatNumber(e.current,a),e.number=o.default.initNumber(e.number,t),e.newnumber=o.default.formatNumber(e.number,t),e.newtotal=o.default.formatNumber(e.current*e.number,a)}),n=n.reverse(),e.buy=r,e.sell=n,e},processData:function(e,t,a,r,n){for(var l=[],i=0;i<e.length;i++)e[i]={price:Number(e[i].current),volume:Number(e[i].number)};if(e.sort(function(e,t){return e.price>t.price?1:e.price<t.price?-1:0}),a)for(var i=e.length-1;i>=0;i--){i<e.length-1?e[i].totalvolume=e[i+1].totalvolume+e[i].volume:e[i].totalvolume=e[i].volume;var u={};u.price=o.default.initNumber(e[i].price,n),u.volume=e[i].volume,u.totalvolume=o.default.initNumber(e[i].totalvolume,r),l.splice(0,0,u)}else for(var i=0;i<e.length;i++){e[i].totalvolume=i>0?e[i-1].totalvolume+e[i].volume:e[i].volume;var u={};u.price=o.default.initNumber(e[i].price,n),u.volume=e[i].volume,u.totalvolume=o.default.initNumber(e[i].totalvolume,r),l[l.length]=u}return l},getTradeHistory:function(){var t=this,a=e.tradePair,r=a.baseCurrencyId,l=a.tradeCurrencyId;n.socket.off("tradeHistory"),n.socket.emit("tradeHistory",{baseCurrencyId:r,tradeCurrencyId:l}),n.socket.on("tradeHistory",function(a){if(r!=a.baseCurrencyId||l!=a.tradeCurrencyId)return void console.log("no match id");var n=t.parseTradeHistory(a),o=e.tradeHistory.content.slice();n.content=n.content.concat(o),e.updateTradeHistory(n)})},parseTradeHistory:function(e){var a=this,r=[e.baseCurrencyId,e.tradeCurrencyId].join("_"),n=t.getCurrencyById(r),l=n.pointNum,o=n.pointPrice;return e.content.forEach(function(e,t){a.parseTradeHistoryItem(e,l,o)}),e},parseTradeHistoryItem:function(e,t,a){return e.timeText=TimeUtil.formatDate(e.time,"HH:mm:ss"),e.timeTextAll=TimeUtil.formatDate(e.time),e.current=o.default.initNumber(e.current,a),e.currentText=o.default.formatNumber(e.current,a),e.amount=o.default.initNumber(e.amount,t),e.amountText=o.default.formatNumber(e.amount,t),e},destroy:function(){n.socket.off("entrust"),n.socket.off("subscribe"),n.socket.off("tradeHistory"),n.socket.off("quoteOne"),n.socket.off("userAccount")}}}}});