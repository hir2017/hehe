webpackJsonp([1],{1017:function(e,t,r){function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s,c,d,f,p=r(27),m=a(p),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(58);var y=r(0),v=a(y),b=r(6),g=r(132),E=(a(g),r(1219)),S=a(E),P=r(1224),C=a(P),w=r(1225),_=a(w),k=r(1226),N=a(k),T=r(1227),O=a(T),x=r(1228),M=a(x),j=(i=(0,b.inject)("commonStore","tradeStore"))(u=(0,b.observer)(u=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"componentWillMount",value:function(){this.props.commonStore.getAllCoinPoint()}},{key:"render",value:function(){var e=this.props,t=e.commonStore,r=e.tradeStore;return t.productDataReady?v.default.createElement(U,this.props):v.default.createElement("div",{className:"trade-wrapper",style:{height:r.contentHeight}},v.default.createElement("div",{className:"mini-loading"}))}}]),t}(y.Component))||u)||u,U=(s=(0,b.inject)("tradeStore","commonStore"))(c=(0,b.observer)((f=d=function(e){function t(){var e,r,a,o;n(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.onChangeEntrustType=function(e){a.props.tradeStore.setType(e)},o=r,l(a,o)}return o(t,e),h(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.tradeStore,r=e.commonStore,a=this.props.params.pair;if(a){var n=a.split("_"),l=n[0].toUpperCase(),o=n[1].toUpperCase(),i=r.getTradeCoinByName(l).currencyId,u=r.getTradeCoinByName(o).currencyId;if(!i||!u)return;UPEX.cache.setCache("currentCoin",{baseCurrencyNameEn:l,currencyNameEn:o}),t.updateCurrency({baseCurrencyNameEn:l,currencyNameEn:o,baseCurrencyId:i,currencyId:u}),t.getData(),t.sendSubscribe(),t.getEntrust(),t.getTradeHistory(),t.getUserAccount(),t.getPersonalTradingPwd(),t.getPersonalInfo(),t.bindOrderSocket()}}},{key:"componentWillUnmount",value:function(){this.props.tradeStore.destorySocket()}},{key:"render",value:function(){var e=this,t=this.props.tradeStore,r=void 0,a="";return t.currentTradeCoin&&t.currentTradeCoin.currentAmount&&(t.currentTradeCoin.currentAmount>t.currentTradeCoin.previousPrice?(a="greenrate",r=v.default.createElement(m.default,{type:"arrow-up",style:{fontSize:12}})):t.currentTradeCoin.currentAmount<t.currentTradeCoin.previousPrice&&(a="redrate",r=v.default.createElement(m.default,{type:"arrow-down",style:{fontSize:12}}))),v.default.createElement("div",{className:"trade-wrapper",style:{height:t.contentHeight+10}},v.default.createElement("div",{className:"trade-main"},v.default.createElement("div",{className:"trade-main-chart grid-box",id:"tradeMainKline",style:{height:t.mainChartHeight}},t.pointPrice>-1?v.default.createElement(S.default,null):null),v.default.createElement("div",{className:"trade-main-order grid-box",id:"tradeMainOrder",style:{height:t.mainOrderHeight}},v.default.createElement(O.default,null))),v.default.createElement("div",{className:"trade-extra"},v.default.createElement("div",{className:"trade-extra-list clearfix"},v.default.createElement("div",{className:"list-box-l grid-box","data-type":t.type},v.default.createElement("div",{className:"list-box-hd"},v.default.createElement("ul",{className:"tab"},["all","sell","buy"].map(function(r,a){var n=t.type==r?r+" selected":r;return v.default.createElement("li",{className:n,key:r,onClick:e.onChangeEntrustType.bind(e,r)})}))),v.default.createElement("div",{className:"list-box-bd"},v.default.createElement("div",{className:"table-hd"},v.default.createElement("div",{className:"price"},UPEX.lang.template("价格")),v.default.createElement("div",{className:"number"},UPEX.lang.template("数量")),v.default.createElement("div",{className:"total"},UPEX.lang.template("金额"))),v.default.createElement("div",{className:"table-bd",key:t.type},"buy"!==t.type?v.default.createElement("div",{className:"trade-buy-box"},v.default.createElement(_.default,{ref:"sellorder"})):null,v.default.createElement("div",{className:"trade-current-amount "+a},v.default.createElement("div",{className:"count"},v.default.createElement("em",null,t.currentTradeCoin.currentAmountText),r)),"sell"!==t.type?v.default.createElement("div",{className:"trade-sell-box"},v.default.createElement(C.default,{ref:"buyorder"})):null))),v.default.createElement("div",{className:"list-box-r grid-box"},v.default.createElement(N.default,null))),v.default.createElement("div",{className:"trade-extra-handle grid-box"},v.default.createElement(M.default,null))))}}]),t}(y.Component),d.defaultProps={entrustTab:["all","buy","sell"]},c=f))||c)||c;t.default=j},1064:function(e,t,r){"use strict";function a(e,t){return Object.keys(t).some(function(r){return e.target===(0,h.findDOMNode)(t[r])})}function n(e,t){var r=t.min,a=t.max;return e<r||e>a}function l(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function o(e,t){var r=t.marks,a=t.step,n=t.min,l=Object.keys(r).map(parseFloat);if(null!==a){var o=Math.round((e-n)/a)*a+n;l.push(o)}var i=l.map(function(t){return Math.abs(e-t)});return l[i.indexOf(Math.min.apply(Math,i))]}function i(e){var t=e.toString(),r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}function u(e,t){return e?t.clientY:t.pageX}function s(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function c(e,t){var r=t.getBoundingClientRect();return e?r.top+.5*r.height:r.left+.5*r.width}function d(e,t){var r=t.max,a=t.min;return e<=a?a:e>=r?r:e}function f(e,t){var r=t.step,a=o(e,t);return null===r?a:parseFloat(a.toFixed(i(r)))}function p(e){e.stopPropagation(),e.preventDefault()}function m(e){switch(e.keyCode){case v.default.UP:case v.default.RIGHT:return function(e,t){return e+t.step};case v.default.DOWN:case v.default.LEFT:return function(e,t){return e-t.step};case v.default.END:return function(e,t){return t.max};case v.default.HOME:return function(e,t){return t.min};case v.default.PAGE_UP:return function(e,t){return e+2*t.step};case v.default.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}}t.__esModule=!0,t.isEventFromHandle=a,t.isValueOutOfRange=n,t.isNotTouchEvent=l,t.getClosestPoint=o,t.getPrecision=i,t.getMousePosition=u,t.getTouchPosition=s,t.getHandleCenterPosition=c,t.ensureValueInRange=d,t.ensureValuePrecision=f,t.pauseEvent=p,t.getKeyboardValueMutator=m;var h=r(11),y=r(199),v=function(e){return e&&e.__esModule?e:{default:e}}(y)},1108:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(7),l=a(n),o=r(0),i=a(o),u=function(e){var t=e.className,r=e.included,a=e.vertical,n=e.offset,o=e.length,u=e.style,s=a?{bottom:n+"%",height:o+"%"}:{left:n+"%",width:o+"%"},c=(0,l.default)({visibility:r?"visible":"hidden"},u,s);return i.default.createElement("div",{className:t,style:c})};t.default=u,e.exports=t.default},1109:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){}function l(e){var t,r;return r=t=function(e){function t(r){(0,d.default)(this,t);var a=(0,p.default)(this,e.call(this,r));a.onMouseDown=function(e){if(0===e.button){var t=a.props.vertical,r=j.getMousePosition(t,e);if(j.isEventFromHandle(e,a.handlesRefs)){var n=j.getHandleCenterPosition(t,e.target);a.dragOffset=r-n,r=n}else a.dragOffset=0;a.removeDocumentEvents(),a.onStart(r),a.addDocumentMouseEvents(),j.pauseEvent(e)}},a.onTouchStart=function(e){if(!j.isNotTouchEvent(e)){var t=a.props.vertical,r=j.getTouchPosition(t,e);if(j.isEventFromHandle(e,a.handlesRefs)){var n=j.getHandleCenterPosition(t,e.target);a.dragOffset=r-n,r=n}else a.dragOffset=0;a.onStart(r),a.addDocumentTouchEvents(),j.pauseEvent(e)}},a.onFocus=function(e){var t=a.props,r=t.onFocus,n=t.vertical;if(j.isEventFromHandle(e,a.handlesRefs)){var l=j.getHandleCenterPosition(n,e.target);a.dragOffset=0,a.onStart(l),j.pauseEvent(e),r&&r(e)}},a.onBlur=function(e){var t=a.props.onBlur;a.onEnd(e),t&&t(e)},a.onMouseUp=function(){a.onEnd(),a.removeDocumentEvents()},a.onMouseMove=function(e){if(!a.sliderRef)return void a.onEnd();var t=j.getMousePosition(a.props.vertical,e);a.onMove(e,t-a.dragOffset)},a.onTouchMove=function(e){if(j.isNotTouchEvent(e)||!a.sliderRef)return void a.onEnd();var t=j.getTouchPosition(a.props.vertical,e);a.onMove(e,t-a.dragOffset)},a.onKeyDown=function(e){a.sliderRef&&j.isEventFromHandle(e,a.handlesRefs)&&a.onKeyboard(e)},a.saveSlider=function(e){a.sliderRef=e};return a.handlesRefs={},a}return(0,h.default)(t,e),t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount&&e.prototype.componentWillUnmount.call(this),this.removeDocumentEvents()},t.prototype.componentDidMount=function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument},t.prototype.addDocumentTouchEvents=function(){this.onTouchMoveListener=(0,S.default)(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=(0,S.default)(this.document,"touchend",this.onEnd)},t.prototype.addDocumentMouseEvents=function(){this.onMouseMoveListener=(0,S.default)(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=(0,S.default)(this.document,"mouseup",this.onEnd)},t.prototype.removeDocumentEvents=function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},t.prototype.focus=function(){this.props.disabled||this.handlesRefs[0].focus()},t.prototype.blur=function(){this.props.disabled||this.handlesRefs[0].blur()},t.prototype.getSliderStart=function(){var e=this.sliderRef,t=e.getBoundingClientRect();return this.props.vertical?t.top:t.left},t.prototype.getSliderLength=function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width},t.prototype.calcValue=function(e){var t=this.props,r=t.vertical,a=t.min,n=t.max,l=Math.abs(Math.max(e,0)/this.getSliderLength());return r?(1-l)*(n-a)+a:l*(n-a)+a},t.prototype.calcValueByPos=function(e){var t=e-this.getSliderStart();return this.trimAlignValue(this.calcValue(t))},t.prototype.calcOffset=function(e){var t=this.props,r=t.min;return(e-r)/(t.max-r)*100},t.prototype.saveHandle=function(e,t){this.handlesRefs[e]=t},t.prototype.render=function(){var t,r=this.props,a=r.prefixCls,l=r.className,o=r.marks,i=r.dots,u=r.step,c=r.included,d=r.disabled,f=r.vertical,p=r.min,m=r.max,h=r.children,y=r.maximumTrackStyle,b=r.style,g=r.railStyle,E=r.dotStyle,S=r.activeDotStyle,P=e.prototype.render.call(this),w=P.tracks,_=P.handles,N=(0,C.default)(a,(t={},t[a+"-with-marks"]=Object.keys(o).length,t[a+"-disabled"]=d,t[a+"-vertical"]=f,t[l]=l,t));return v.default.createElement("div",{ref:this.saveSlider,className:N,onTouchStart:d?n:this.onTouchStart,onMouseDown:d?n:this.onMouseDown,onMouseUp:d?n:this.onMouseUp,onKeyDown:d?n:this.onKeyDown,onFocus:d?n:this.onFocus,onBlur:d?n:this.onBlur,style:b},v.default.createElement("div",{className:a+"-rail",style:(0,s.default)({},y,g)}),w,v.default.createElement(k.default,{prefixCls:a,vertical:f,marks:o,dots:i,step:u,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:m,min:p,dotStyle:E,activeDotStyle:S}),_,v.default.createElement(T.default,{className:a+"-mark",vertical:f,marks:o,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:m,min:p}),h)},t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=(0,s.default)({},e.propTypes,{min:g.default.number,max:g.default.number,step:g.default.number,marks:g.default.object,included:g.default.bool,className:g.default.string,prefixCls:g.default.string,disabled:g.default.bool,children:g.default.any,onBeforeChange:g.default.func,onChange:g.default.func,onAfterChange:g.default.func,handle:g.default.func,dots:g.default.bool,vertical:g.default.bool,style:g.default.object,minimumTrackStyle:g.default.object,maximumTrackStyle:g.default.object,handleStyle:g.default.oneOfType([g.default.object,g.default.arrayOf(g.default.object)]),trackStyle:g.default.oneOfType([g.default.object,g.default.arrayOf(g.default.object)]),railStyle:g.default.object,dotStyle:g.default.object,activeDotStyle:g.default.object,autoFocus:g.default.bool,onFocus:g.default.func,onBlur:g.default.func}),t.defaultProps=(0,s.default)({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,r=(0,i.default)(e,["index"]);return delete r.dragging,v.default.createElement(x.default,(0,s.default)({},r,{key:t}))},onBeforeChange:n,onChange:n,onAfterChange:n,included:!0,disabled:!1,dots:!1,vertical:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),r}t.__esModule=!0;var o=r(44),i=a(o),u=r(7),s=a(u),c=r(3),d=a(c),f=r(4),p=a(f),m=r(5),h=a(m);t.default=l;var y=r(0),v=a(y),b=r(2),g=a(b),E=r(465),S=a(E),P=r(8),C=a(P),w=r(42),_=(a(w),r(1231)),k=a(_),N=r(1232),T=a(N),O=r(1110),x=a(O),M=r(1064),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(M);e.exports=t.default},1110:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(7),l=a(n),o=r(44),i=a(o),u=r(3),s=a(u),c=r(4),d=a(c),f=r(5),p=a(f),m=r(0),h=a(m),y=r(2),v=a(y),b=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,p.default)(t,e),t.prototype.focus=function(){this.handle.focus()},t.prototype.blur=function(){this.handle.blur()},t.prototype.render=function(){var e=this,t=this.props,r=t.className,a=t.vertical,n=t.offset,o=t.style,u=t.disabled,s=t.min,c=t.max,d=t.value,f=(0,i.default)(t,["className","vertical","offset","style","disabled","min","max","value"]),p=a?{bottom:n+"%"}:{left:n+"%"},m=(0,l.default)({},o,p),y={};return void 0!==d&&(y=(0,l.default)({},y,{"aria-valuemin":s,"aria-valuemax":c,"aria-valuenow":d,"aria-disabled":!!u})),h.default.createElement("div",(0,l.default)({ref:function(t){return e.handle=t},role:"slider",tabIndex:"0"},y,f,{className:r,style:m}))},t}(h.default.Component);t.default=b,b.propTypes={className:v.default.string,vertical:v.default.bool,offset:v.default.number,style:v.default.object,disabled:v.default.bool,min:v.default.number,max:v.default.number,value:v.default.number},e.exports=t.default},1219:function(e,t,r){function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s,c,d=r(133),f=a(d),p=r(27),m=a(p),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(134),r(58);var y=r(0),v=a(y),b=r(6),g=r(1220),E=a(g),S=r(1221),P=a(S),C=(i=(0,b.inject)("tradeStore","commonStore"))(u=(0,b.observer)((c=s=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.asyncTradingView=function(){"undefined"==typeof TradingView?r.e(6).then(r.bind(null,1222)).then(function(e){setTimeout(function(){a.createTradingView()},100)}).catch(function(e){console.log("Chunk loading failed")}):a.tvwidget||(a.refs.klinemask&&$(a.refs.klinemask).removeClass("hidden"),a.createTradingView())},a.asyncDepthChart=function(){r.e(5).then(r.bind(null,1223)).then(function(e){console.log(e)}).catch(function(e){console.log("Chunk loading failed")})},a.switchTheme=function(e){if(a.tvwidget){$(a.refs.klinemask).removeClass("hidden");var t=a.getOverridesByTheme(e),r=a.getCustomCSSUrlByTheme(e);a.tvwidget.addCustomCSSFile(r),a.tvwidget.applyOverrides(t),setTimeout(function(){$(a.refs.klinemask).addClass("hidden")},0)}},a.showChart=function(e){a.setState({chart:e},function(){this.drawChart()})},a.timeline=[{slug:"realtime",resolution:"1",chartType:3,text:UPEX.lang.template("分时")},{slug:"1min",resolution:"1",chartType:1,text:UPEX.lang.template("1min")},{slug:"5min",resolution:"5",chartType:1,text:UPEX.lang.template("5min")},{slug:"10min",resolution:"10",chartType:1,text:UPEX.lang.template("10min")},{slug:"30min",resolution:"30",chartType:1,text:UPEX.lang.template("30min")},{slug:"1hour",resolution:"60",chartType:1,text:UPEX.lang.template("1hour")},{slug:"1day",resolution:"1D",chartType:1,text:UPEX.lang.template("1day")}],a.defaultThemes={light:{url:"./bundles/day.css",up:"#33c280",down:"#ef5d7f",bg:"#ffffff",grid:"#f7f8fa",cross:"#23283D",border:"#9194a4",text:"#9194a4",areatop:"rgba(71, 78, 112, 0.1)",areadown:"rgba(71, 78, 112, 0.02)"},dark:{url:"./bundles/night.css",up:"#33c280",down:"#ef5d7f",bg:"#161615",grid:"#20201e",cross:"#fee8c2",border:"#666",text:"#666",areatop:"rgba(122, 152, 247, .1)",areadown:"rgba(122, 152, 247, .02)"}},a.state={chart:"kline"},a}return o(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;this.drawChart(),$.channel.on("switchTheme",function(t){e.switchTheme(t)})}},{key:"componentWillUnmount",value:function(){$.channel.off("switchTheme"),this.datafeed&&this.datafeed.destroy(),this.tvwidget=null,window.tvwidget=null}},{key:"drawChart",value:function(){switch(this.state.chart){case"depth":this.asyncDepthChart();break;case"kline":this.asyncTradingView()}}},{key:"createTradingView",value:function(){var e=this,t=this,r=this.props.commonStore,a=r.getTradeCoinById,n=(r.getPointPrice,this.props.tradeStore.theme),l=this.props.tradeStore.currencyId,o=this.props.tradeStore.baseCurrencyId,i=void 0,u=void 0,s=void 0,c=void 0;if(!o||!l)throw new Error("no such symbol");i=this.getLocale(),u=this.getIntervalByPeriod(),s=a(o).currencyNameEn,c=a(l).currencyNameEn;var d=c+"/"+s,f=this.datafeed=new P.default({currencyNameEn:c,baseCurrencyNameEn:s,pointPrice:this.props.tradeStore.pointPrice}),p={debug:!1,symbol:d,fullscreen:!0,autosize:!0,interval:u,container_id:"kline-chart",locale:i,timezone:"Asia/Shanghai",library_path:"/",toolbar_bg:"transparent",drawings_access:{type:"black",tools:[{name:"Regression Trend"}]},datafeed:f,overrides:this.getOverridesByTheme(n),custom_css_url:this.getCustomCSSUrlByTheme(n),disabled_features:["left_toolbar","header_symbol_search","header_resolutions","header_interval_dialog_button","show_interval_dialog_on_key_press","compare_symbol","display_market_status","go_to_date","header_chart_type","header_compare","header_settings","header_screenshot","header_undo_redo","legend_context_menu","show_hide_button_in_legend","snapshot_trading_drawings","symbol_info","timeframes_toolbar","use_localstorage_for_settings","volume_force_overlay","header_saveload"],enabled_features:["dont_show_boolean_study_arguments","hide_last_na_study_output","move_logo_to_main_pane","same_data_requery","side_toolbar_in_fullscreen_mode","disable_resolution_rebuild"]},m=function(){var r=window.tvwidget=e.tvwidget=new TradingView.widget(p);r.onChartReady(function(){$(t.refs.klinemask).addClass("hidden"),r.onContextMenu(function(e,t){return[{text:"-Objects Tree..."},{text:"-Drawing Tools"},{text:"-Hide Marks On Bars"},{text:"-Change Symbol..."},{text:"-Change Interval..."}]});var e=function(e){var t=e.resolution,a=e.chartType||1;r.changingInterval||(r.setSymbol(d,t),r.changingInterval=!0,r.chart().chartType()!==a&&r.applyOverrides({"mainSeriesProperties.style":a}),r.selectedIntervalClass="interval-"+t+"-"+a,r.changingInterval=!1)},a=UPEX.cache.getCache("kline/resolution")||t.timeline[0];r.selectedIntervalClass="interval-"+a.resolution+"-"+a.chartType;var n=t.timeline.map(function(t,a){return chartType=t.chartType||1,r.createButton().attr("title",t.slug).addClass(r.selectedIntervalClass==="interval-"+t.resolution+"-"+t.chartType?"selected":"").data("resolution",t.resolution).data("charttype",t.chartType).on("click",function(a){e(t);$(a.currentTarget);n.forEach(function(e){r.selectedIntervalClass==="interval-"+e.data("resolution")+"-"+e.data("charttype")?e.addClass("selected"):e.removeClass("selected")}),UPEX.cache.setCache("kline/resolution",{resolution:t.resolution,chartType:t.chartType||1})}).append($("<span>"+t.text+"</span>"))});r.maStudies=[];r.chart().onIntervalChanged().subscribe(null,function(t,a){console.log("--------------",t,a),r.changingInterval=!1,n.forEach(function(e){r.selectedIntervalClass==="interval-"+e.data("resolution")+"-"+e.data("charttype")?e.addClass("selected"):e.removeClass("selected")}),1*t!=1&&(UPEX.cache.setCache("kline/resolution",{resolution:t,chartType:1}),e({resolution:t}))}),r.chart().setChartType(a.chartType),r.chart().executeActionById("drawingToolbarAction")})};window.tvwidget?m():(TradingView.onready(function(){window.tradingviewready=!0,m()}),setTimeout(function(){window.tradingviewready||m()},1e3))}},{key:"getLocale",value:function(){var e=this.props.commonStore.language;switch(e){case"zh-CN":e="zh";break;case"zh-TW":e="zh_TW";break;case"en-US":e="en"}return e}},{key:"getIntervalByPeriod",value:function(){var e=UPEX.cache.getCache("kline/resolution"),t=e||this.timeline[0],r=t.resolution;return this.currentPeroid=t,r}},{key:"getOverridesByTheme",value:function(e){var t=this.defaultThemes[e];return{volumePaneSize:"medium","scalesProperties.lineColor":t.text,"scalesProperties.textColor":t.text,"paneProperties.background":t.bg,"paneProperties.vertGridProperties.color":t.grid,"paneProperties.horzGridProperties.color":t.grid,"paneProperties.crossHairProperties.color":t.cross,"paneProperties.legendProperties.showLegend":!!t.showLegend,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.upColor":t.up,"mainSeriesProperties.candleStyle.downColor":t.down,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":t.border,"mainSeriesProperties.candleStyle.borderUpColor":t.up,"mainSeriesProperties.candleStyle.borderDownColor":t.down,"mainSeriesProperties.candleStyle.wickUpColor":t.up,"mainSeriesProperties.candleStyle.wickDownColor":t.down,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.upColor":t.up,"mainSeriesProperties.hollowCandleStyle.downColor":t.down,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.hollowCandleStyle.borderColor":t.border,"mainSeriesProperties.hollowCandleStyle.borderUpColor":t.up,"mainSeriesProperties.hollowCandleStyle.borderDownColor":t.down,"mainSeriesProperties.hollowCandleStyle.wickColor":t.line,"mainSeriesProperties.haStyle.upColor":t.up,"mainSeriesProperties.haStyle.downColor":t.down,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.borderColor":t.border,"mainSeriesProperties.haStyle.borderUpColor":t.up,"mainSeriesProperties.haStyle.borderDownColor":t.down,"mainSeriesProperties.haStyle.wickColor":t.border,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.upColor":t.up,"mainSeriesProperties.barStyle.downColor":t.down,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.color":t.border,"mainSeriesProperties.lineStyle.linewidth":1,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.color1":t.areatop,"mainSeriesProperties.areaStyle.color2":t.areadown,"mainSeriesProperties.areaStyle.linecolor":t.border,"mainSeriesProperties.areaStyle.linewidth":1,"mainSeriesProperties.areaStyle.priceSource":"close"}}},{key:"getCustomCSSUrlByTheme",value:function(e){return this.defaultThemes[e].url}},{key:"render",value:function(){var e=this,t=this.props.tradeStore,r=(t.theme,{});t.theme,r={fontSize:12,color:"#e8b802",padding:"0 5px"};var a=void 0,n="";return t.currentTradeCoin&&t.currentTradeCoin.currentAmount&&(t.currentTradeCoin.currentAmount>t.currentTradeCoin.previousPrice?(n="greenrate",a=v.default.createElement(m.default,{type:"arrow-up",style:{fontSize:12}})):t.currentTradeCoin.currentAmount<t.currentTradeCoin.previousPrice&&(n="redrate",a=v.default.createElement(m.default,{type:"arrow-down",style:{fontSize:12}}))),v.default.createElement("div",{className:"chart-box"},v.default.createElement("div",{className:"trade-current-coin"},v.default.createElement("ul",{className:"info-list"},v.default.createElement("li",{className:"coin",ref:"coin"},v.default.createElement(f.default,{content:v.default.createElement(E.default,null),placement:"bottomLeft",trigger:"click",getPopupContainer:function(){return e.refs.coin},overlayClassName:"dark"===t.theme?"popover-tradecoins popover-tradecoins-dark":"popover-tradecoins popover-tradecoins-light"},v.default.createElement("label",null,t.currencyNameEn),v.default.createElement(m.default,{type:"caret-down",style:r})),v.default.createElement("span",{className:"current-amount "+n},v.default.createElement("em",null,t.currentTradeCoin.currentAmountText),a)),v.default.createElement("li",null,v.default.createElement("label",null,UPEX.lang.template("涨幅")),v.default.createElement("em",{className:t.currentTradeCoin.changeRate>=0?"greenrate":"redrate"},t.currentTradeCoin.changeRateText)),v.default.createElement("li",null,v.default.createElement("label",null,UPEX.lang.template("高")),v.default.createElement("em",null," ",t.currentTradeCoin.highPriceText)),v.default.createElement("li",null,v.default.createElement("label",null,UPEX.lang.template("低")),v.default.createElement("em",null,t.currentTradeCoin.lowPriceText)),v.default.createElement("li",null,v.default.createElement("label",null,UPEX.lang.template("24H量")),v.default.createElement("em",null,t.currentTradeCoin.volumeText,t.currencyNameEn))),v.default.createElement("ul",{className:"chart-menu"},v.default.createElement("li",{onClick:this.showChart.bind(this,"kline"),className:"kline"==this.state.chart?"selected":""},UPEX.lang.template("K线图")),v.default.createElement("li",{onClick:this.showChart.bind(this,"depth"),className:"depth"==this.state.chart?"selected":""},UPEX.lang.template("深度图")))),v.default.createElement("div",{className:"trade-kline-mask",ref:"klinemask"},v.default.createElement("div",{className:"mini-loading"})),v.default.createElement("div",{id:"kline-chart",ref:"kline",className:"trade-kline-chart","data-show":"kline"==this.state.chart?"show":"hide"}),"depth"==this.state.chart?v.default.createElement("div",{className:"trade-depth-chart",id:"depth-chart",ref:"depthchart"}):null)}}]),t}(y.Component),s.defaultProps={},u=c))||u)||u;t.default=C},1220:function(e,t,r){function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s=r(196),c=a(s),d=r(27),f=a(d),p=r(67),m=a(p),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(197),r(58),r(43);var y=r(0),v=a(y),b=r(6),g=r(9),E=m.default.Search,S=(i=(0,b.inject)("tradeStore"))(u=(0,b.observer)(u=function(e){function t(e){n(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleSearch=function(e){var t=$(e.currentTarget),a=t.val();r.timer&&clearTimeout(r.timer),r.timer=setTimeout(function(){r.props.tradeStore.marketListStore.filterByName(a)},100)},r.handleCurrency=function(e,t){g.browserHistory.push("/webtrade/"+e.baseCurrencyNameEn+"_"+e.currencyNameEn)},r.collecthandle=function(e,t){r.props.tradeStore.marketListStore.toggleCollectCoin(t)},r}return o(t,e),h(t,[{key:"componentWillUnmount",value:function(){this.props.tradeStore.marketListStore.reset()}},{key:"sortByCondition",value:function(e){this.props.tradeStore.marketListStore.sortByCondition(e)}},{key:"handleCollectCoin",value:function(e,t){this.props.tradeStore.marketListStore.toggleCollectCoins(e,t)}},{key:"handleToggleCollectDisplay",value:function(e){this.props.tradeStore.marketListStore.filterCollectCoins(e.target.checked)}},{key:"collectIcon",value:function(e){var t=this,r=this.props.tradeStore.marketListStore.collectCoinsList,a=r.some(function(t){if(t.tradeCurrencyId===e.currencyId&&t.baseCurrencyId===e.baseCurrencyId)return!0});return e.selected=!!a,v.default.createElement(f.default,{onClick:function(r){return t.collecthandle(r,e)},style:{fontSize:12},type:a?"star":"star-o"})}},{key:"sortIcon",value:function(e){return e?"asc"==this.props.tradeStore.marketListStore.sortByType?v.default.createElement(f.default,{type:"arrow-up"}):v.default.createElement(f.default,{type:"arrow-down"}):null}},{key:"render",value:function(){var e=this,t=this.props.tradeStore.marketListStore;return v.default.createElement("div",{className:"coin-list"},v.default.createElement("div",{className:"coin-list-hd clearfix"},v.default.createElement("div",{className:"search"},v.default.createElement(E,{onChange:this.handleSearch,value:t.searchValue,placeholder:UPEX.lang.template("搜索数字币")})),v.default.createElement("div",{className:"tab"},v.default.createElement(c.default,{checked:t.onlyCollectedCoins,onChange:this.handleToggleCollectDisplay.bind(this)},UPEX.lang.template("收藏")))),v.default.createElement("div",{className:"coin-list-bd"},v.default.createElement("dl",{className:"list-hd"},v.default.createElement("dt",{className:"clearfix"},v.default.createElement("div",{className:"cell star"},UPEX.lang.template("收藏")),v.default.createElement("div",{className:"cell name"},UPEX.lang.template("币种")),v.default.createElement("div",{className:"cell price",onClick:this.sortByCondition.bind(this,"currentAmount")},UPEX.lang.template("价格"),this.sortIcon("currentAmount"==t.sortByKey)),v.default.createElement("div",{className:"cell rate",onClick:this.sortByCondition.bind(this,"changeRate")},UPEX.lang.template("涨跌"),this.sortIcon("changeRate"==t.sortByKey)),v.default.createElement("div",{className:"cell volume",onClick:this.sortByCondition.bind(this,"volume")},UPEX.lang.template("24h成交量"),this.sortIcon("volume"==t.sortByKey)))),v.default.createElement("dl",{className:"list"},t.tradeCoins.map(function(t,r){return t.currentAmount>=t.previousPrice?("greenrate",v.default.createElement(f.default,{type:"arrow-up",style:{fontSize:12}})):("redrate",v.default.createElement(f.default,{type:"arrow-down",style:{fontSize:12}})),v.default.createElement("dd",{key:t.id,className:"clearfix"},v.default.createElement("div",{className:"cell star"},e.collectIcon(t)),v.default.createElement("div",{className:"cell name",onClick:e.handleCurrency.bind(e,t)},t.currencyNameEn||"--"),v.default.createElement("div",{className:"cell price",onClick:e.handleCurrency.bind(e,t)},t.currentAmountText),v.default.createElement("div",{className:t.changeRate>=0?"cell rate greenrate":"cell rate redrate",onClick:e.handleCurrency.bind(e,t)},t.changeRateText),v.default.createElement("div",{className:"cell volume",onClick:e.handleCurrency.bind(e,t)},t.volumeText))}))))}}]),t}(y.Component))||u)||u;t.default=S},1221:function(e,t,r){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(95),o=r(13),i=r(70),u=function(e){return e&&e.__esModule?e:{default:e}}(i),s={symbols_types:[],supported_resolutions:[1,5,15,30,60,240,"1D","5D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1,supports_time:!0,exchanges:[],supports_search:!1,supports_group_request:!0},c=function(){function e(t){a(this,e),t=t||{},this.configurationData=s,this.serverTime=null,this.symbol=t.symbol||"",this.currencyNameEn=t.currencyNameEn,this.baseCurrencyNameEn=t.baseCurrencyNameEn,this.pointPrice=t.pointPrice,this.timezone=t.timezone,this.resolution="",this.cacheResult={},this.historyData={}}return n(e,[{key:"onReady",value:function(e){e(this.configurationData)}},{key:"resolveSymbol",value:function(e,t,r){var a=this;setTimeout(function(){try{t({name:e,ticker:[a.baseCurrencyNameEn,a.currencyNameEn].join("_").toLocaleLowerCase(),timezone:"Asia/Shanghai",minmov:1,minmove2:0,session:"24x7",description:e,pricescale:Math.pow(10,a.pointPrice),fractional:!1,has_intraday:!0,has_daily:!0,has_weekly_and_monthly:!0})}catch(e){console.log(e.message)}},0)}},{key:"getBars",value:function(e,t,r,a,n,l,i){var s=this;if(console.log("Requesting bars between "+new Date(1e3*r).toISOString()+" and "+new Date(1e3*a).toISOString()),r>0&&(r+"").length>10)throw"Got a JS time instead of Unix one.";i&&(a=parseInt(+new Date/1e3,10));var c=1e3*r,d=1e3*a,f=(e.ticker,this.getIntervalByPeriod(t));console.log(c,u.default.formatDate(c,"yyyy-MM-dd HH:mm:ss"),d,u.default.formatDate(d,"yyyy-MM-dd HH:mm:ss")),(0,o.getTradeKline)({symbol:e.ticker||"",interval:f,limit:1440,startTime:c,endTime:d}).then(function(e){var t=e.attachment,r=[],a={noData:!1};if(200!==e.status||0==t.length)a.noData=!0;else for(var l=0;l<t.length;++l){var o=t[l],i={time:+new Date(o.createTime.replace(/-/g,"/")),close:Number(o.closePrice),open:Number(o.openPrice),high:Number(o.highPrice),low:Number(o.lowPrice),volume:Number(o.volume)};i.timeTxt=u.default.formatDate(o.currentTime,"yyyy-MM-dd HH:mm:ss"),r[r.length]=i}s.historyData[f]={bars:r,meta:a,last:r[r.length-1],first:r[0]},n(r,a)})}},{key:"getIntervalByPeriod",value:function(e){switch(e+""){case"0":case"1":case"5":case"10":case"30":case"60":return e;case"1D":case"5D":case"7D":case"1W":case"1M":return"70";default:return"1"}}},{key:"subscribeBars",value:function(e,t,r,a,n){console.log("------subscribeBars-------",e,t);e.ticker,this.getIntervalByPeriod(t);this.timer&&clearTimeout(this.timer)}},{key:"unsubscribeBars",value:function(e){this.destroy()}},{key:"destroy",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"getServerTime",value:function(e){this.configurationData.supports_time&&(l.socket.emit("serverTime"),l.socket.on("serverTime",function(t){var r=parseInt(t/1e3,10);e(r)}))}}]),e}();t.default=c},1224:function(e,t,r){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),d=r(6),f=(o=(0,d.inject)("tradeStore"))(i=(0,d.observer)(i=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"haneleClickOrder",value:function(e){var t=this.props.tradeStore;t.setDealBuyPrice(e.current),t.setDealSellPrice(e.current)}},{key:"resetScrollTop",value:function(){this.refs.scroller.scrollTop=0}},{key:"render",value:function(){var e=this,t=this.props.tradeStore;return c.default.createElement("div",{className:"trade-buy",ref:"scroller"},c.default.createElement("ul",{className:"list"},t.newEntrustData.buy.map(function(t,r){return c.default.createElement("li",{key:r,"data-type":"buy","data-index":t.index,onClick:e.haneleClickOrder.bind(e,t)},c.default.createElement("div",{className:"cell price greenrate"},t.newcurrent),c.default.createElement("div",{className:"cell number"},t.newnumber),c.default.createElement("div",{className:"cell total"},t.newtotal),c.default.createElement("div",{className:"bar",style:{width:t.depth+"%"}}))})))}}]),t}(s.Component))||i)||i;t.default=f},1225:function(e,t,r){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),d=r(6),f=(o=(0,d.inject)("tradeStore"))(i=(0,d.observer)(i=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.resetScrollTop()}},{key:"haneleClickOrder",value:function(e){var t=this.props.tradeStore;t.setDealBuyPrice(e.current),t.setDealSellPrice(e.current)}},{key:"resetScrollTop",value:function(){this.refs.scroller.scrollTop=2e3}},{key:"render",value:function(){var e=this,t=this.props.tradeStore;return c.default.createElement("div",{className:"trade-sell"},c.default.createElement("ul",{className:"list",ref:"scroller"},t.newEntrustData.sell.map(function(t,r){return c.default.createElement("li",{key:r,"data-type":"sell","data-index":t.index,onClick:e.haneleClickOrder.bind(e,t)},c.default.createElement("div",{className:"cell price redrate"},t.newcurrent),c.default.createElement("div",{className:"cell number"},t.newnumber),c.default.createElement("div",{className:"cell total"},t.newtotal),c.default.createElement("div",{className:"bar",style:{width:t.depth+"%"}}))})))}}]),t}(s.Component))||i)||i;t.default=f},1226:function(e,t,r){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,i,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),d=r(6),f=(o=(0,d.inject)("tradeStore"))(i=(0,d.observer)(i=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"haneleClickOrder",value:function(e){var t=this.props.tradeStore;t.setDealBuyPrice(e.current),t.setDealSellPrice(e.current)}},{key:"render",value:function(){var e=this,t=this.props.tradeStore;return c.default.createElement("div",{className:"trade-history"},c.default.createElement("div",{className:"list-box-hd"},UPEX.lang.template("实时成交")),c.default.createElement("div",{className:"list-box-bd"},c.default.createElement("div",{className:"table-hd"},c.default.createElement("div",{className:"time"},UPEX.lang.template("时间")),c.default.createElement("div",{className:"price"},UPEX.lang.template("价格")),c.default.createElement("div",{className:"number"},UPEX.lang.template("数量"))),c.default.createElement("div",{className:"table-bd"},c.default.createElement("ul",null,t.tradeHistory.content.map(function(t,r){var a=1==t.buyOrSell?"greenrate":"redrate";return c.default.createElement("li",{key:r,"data-type":1==t.buyOrSell?"buy":"sell",onClick:e.haneleClickOrder.bind(e,t),"data-text":t.timeTextAll},c.default.createElement("div",{className:"time"},t.timeText),c.default.createElement("div",{className:"price "+a},t.currentText),c.default.createElement("div",{className:"number"},t.amountText))})))))}}]),t}(s.Component))||i)||i;t.default=f},1227:function(e,t,r){function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),c=r(0),d=a(c),f=r(6),p=r(467),m=a(p),h=r(468),y=a(h),v=(i=(0,f.inject)("tradeStore"))(u=(0,f.observer)(u=function(e){function t(e){n(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.tabs=[{title:UPEX.lang.template("委托中订单")},{title:UPEX.lang.template("已完成订单")}],r}return o(t,e),s(t,[{key:"handleClickTab",value:function(e){this.props.tradeStore.setTabIndex(e)}},{key:"render",value:function(){var e=this,t=this.props.tradeStore;return d.default.createElement("div",{className:"tradeorder-wrapper"},d.default.createElement("div",{className:"tradeorder-hd clearfix"},d.default.createElement("ul",null,this.tabs.map(function(r,a){var n=t.tabIndex==a?"selected":"";return d.default.createElement("li",{key:a,className:n,onClick:e.handleClickTab.bind(e,a)},r.title)}))),d.default.createElement("div",{className:"tradeorder-bd"},0==t.tabIndex?d.default.createElement(m.default,{pagination:!1}):d.default.createElement(y.default,{pagination:!1})))}}]),t}(c.Component))||u)||u;t.default=v},1228:function(e,t,r){function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,s,c=r(1229),d=a(c),f=r(131),p=a(f),m=r(68),h=a(m),y=r(16),v=a(y),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(1234),r(198),r(69),r(17);var g=r(0),E=a(g),S=r(6),P=r(9),C=r(1236),w=a(C),_=r(466),k=a(_),N=(u=(0,S.inject)("tradeStore","authStore","userInfoStore"))(s=(0,S.observer)(s=function(e){function t(){var e,r,a,n;l(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.goRecharge=function(e,t){var r=a.props.userInfoStore;if("fiat"==e)switch(r.userInfo.authLevel){case 0:a.showDialogGuideAuth();break;case 1:a.showDialogGuideBindCard();break;default:P.browserHistory.push("/account/balance/recharge")}else P.browserHistory.push("/account/coin/recharge")},a.onChangeBuySlider=function(e){a.props.tradeStore.dealBuyPrice&&a.props.tradeStore.setBuySliderValue(e)},a.onChangeSellSlider=function(e){a.props.tradeStore.setSellSliderValue(e)},a.onChange=function(e,t){var r=t.currentTarget.value.trim();switch(e){case"buyprice":a.props.tradeStore.setDealBuyPrice(r);break;case"buynum":a.props.tradeStore.setDealBuyNum(r);break;case"sellprice":a.props.tradeStore.setDealSellPrice(r);break;case"sellnum":a.props.tradeStore.setDealSellNum(r);break;case"sellpwd":a.props.tradeStore.setTradeSellPassword(r);break;case"buypwd":a.props.tradeStore.setTradeBuyPassword(r)}},a.checkTradePrice=function(e,t){var r=t.currentTarget.value.trim();a.props.tradeStore.checkTradePrice(r,e)},a.checkTradeNumber=function(e,t){var r=t.currentTarget.value.trim();a.props.tradeStore.checkTradeNumber(r,e)},a.submitOrder=function(e){var t=a.props.tradeStore,r=t.verifyInfoBeforeSubmit,n=t.createTradeOrder,l=a.props.userInfoStore;if(0==l.userInfo.authLeve)return void a.showDialogGuideAuth();if(0==l.userInfo.isValidatePass)return void a.showDialogGuideTradePWD();var o=r(e);o.pass?n(e).done(function(){v.default.success(UPEX.lang.template("下单成功"))}).fail(function(e){v.default.error(e.message)}):"pwdpop"==o.action?a.refs.pwdpop.show(function(t){"buy"==e?a.props.tradeStore.setTradeBuyPassword(t):"sell"==e&&a.props.tradeStore.setTradeSellPassword(t),n(e).done(function(){v.default.success(UPEX.lang.template("下单成功"))}).fail(function(e){v.default.error(e.message)})}):v.default.error(o.message)},n=r,o(a,n)}return i(t,e),b(t,[{key:"showDialogGuideAuth",value:function(){h.default.confirm({prefixCls:"ace-dialog",content:UPEX.lang.template("请先进行身份认证"),okText:UPEX.lang.template("身份认证"),cancelText:UPEX.lang.template("我再想想"),iconType:"exclamation-circle",onOk:function(){P.browserHistory.push("/user/authentication")}})}},{key:"showDialogGuideBindCard",value:function(){h.default.confirm({prefixCls:"ace-dialog",content:UPEX.lang.template("绑定银行卡后可以进行充值"),okText:UPEX.lang.template("绑定银行卡"),cancelText:UPEX.lang.template("我再想想"),iconType:"exclamation-circle",onOk:function(){P.browserHistory.push("/user/bankInfo")}})}},{key:"showDialogGuideTradePWD",value:function(){h.default.confirm({prefixCls:"ace-dialog",content:UPEX.lang.template("交易前请先设置资金密码"),okText:UPEX.lang.template("资金密码设置"),iconType:"exclamation-circle",okCancel:!1,onOk:function(){P.browserHistory.push("/user/bankInfo")}})}},{key:"render",value:function(){var e,t,r=this.props.tradeStore,a=this.props.authStore,l={0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"};return E.default.createElement("div",{className:"trade-form"},E.default.createElement("div",{className:"trade-form-hd"},E.default.createElement("div",{className:"trade-form-l"},a.isLogin?E.default.createElement("div",{className:"hd-box"},E.default.createElement("span",null,UPEX.lang.template("可用")),E.default.createElement("em",null,r.baseCoinBalance.text),E.default.createElement("label",null,r.baseCurrencyNameEn),E.default.createElement("div",{className:"recharge",onClick:this.goRecharge.bind(this,"fiat")},UPEX.lang.template("充值"))):E.default.createElement("div",{className:"hd-box"},E.default.createElement(P.Link,{to:"/login"},UPEX.lang.template("登录")),E.default.createElement("label",null,UPEX.lang.template("或")),E.default.createElement(P.Link,{to:"/register"},UPEX.lang.template("注册")),E.default.createElement("label",null,UPEX.lang.template("开始交易")))),E.default.createElement("div",{className:"trade-form-r"},a.isLogin?E.default.createElement("div",{className:"hd-box"},E.default.createElement("span",null,UPEX.lang.template("可用")),E.default.createElement("em",null,r.tradeCoinBalance.text),E.default.createElement("label",null,r.currencyNameEn),E.default.createElement("div",{className:"recharge",onClick:this.goRecharge.bind(this,"coin")},UPEX.lang.template("充币"))):E.default.createElement("div",{className:"hd-box"},E.default.createElement(P.Link,{to:"/login"},UPEX.lang.template("登录")),E.default.createElement("label",null,UPEX.lang.template("或")),E.default.createElement(P.Link,{to:"/register"},UPEX.lang.template("注册")),E.default.createElement("label",null,UPEX.lang.template("开始交易"))))),E.default.createElement("div",{className:"trade-form-bd clearfix"},E.default.createElement("div",{className:"trade-form-l"},E.default.createElement("div",null,E.default.createElement("ul",null,E.default.createElement("li",{className:"hidden"},E.default.createElement("label",null,UPEX.lang.template("最佳买价")),E.default.createElement("em",null,r.bestBuyPrice," (",r.baseCurrencyNameEn,") ")),E.default.createElement("li",{className:"item-price"},E.default.createElement("label",null,UPEX.lang.template("买入价")),E.default.createElement("div",{className:"input-box"},E.default.createElement(p.default,{placement:"top",visible:""!=r.tradePriceErr,title:r.tradePriceErr},E.default.createElement(k.default,{type:"text",value:r.dealBuyPrice,precision:r.pointPrice,onChange:this.onChange.bind(this,"buyprice"),onBlur:this.checkTradePrice.bind(this,"buy")})),E.default.createElement("i",null,r.baseCurrencyNameEn))),E.default.createElement("li",{className:"item-num"},E.default.createElement("label",null,UPEX.lang.template("买入量")),E.default.createElement("div",{className:"input-box"},E.default.createElement(k.default,{type:"text",value:r.dealBuyNum,precision:r.pointNum,onChange:this.onChange.bind(this,"buynum"),onBlur:this.checkTradeNumber.bind(this,"buy")}),E.default.createElement("i",null,r.currencyNameEn))),E.default.createElement("li",{className:"item-slider"},E.default.createElement("div",{className:"slider-box"},E.default.createElement(d.default,(e={tipFormatter:null,marks:l},n(e,"tipFormatter",function(e){return e+"%"}),n(e,"onChange",this.onChangeBuySlider),n(e,"value",r.buySliderValue),n(e,"disabled",!a.isLogin),e)))),E.default.createElement("li",{className:"hidden"},E.default.createElement("label",null,UPEX.lang.template("手续费")),E.default.createElement("em",null,r.dealBuyFee,"(",r.currencyNameEn,")")),E.default.createElement("li",{className:"item-total"},E.default.createElement("span",null,UPEX.lang.template("金额")),E.default.createElement("em",null,r.dealBuyTotalAmount),E.default.createElement("span",null,r.baseCurrencyNameEn)),E.default.createElement("li",null,E.default.createElement("button",{type:"button",className:"btn buy",disabled:!a.isLogin,onClick:this.submitOrder.bind(this,"buy")},UPEX.lang.template("买入")))))),E.default.createElement("div",{className:"trade-form-r"},E.default.createElement("div",null,E.default.createElement("ul",null,E.default.createElement("li",{className:"hidden"},E.default.createElement("label",null,UPEX.lang.template("最佳卖价")),E.default.createElement("em",null,r.bestSellPrice," (",r.baseCurrencyNameEn,") ")),E.default.createElement("li",{className:"item-price"},E.default.createElement("label",null,UPEX.lang.template("卖出价")),E.default.createElement("div",{className:"input-box"},E.default.createElement(k.default,{type:"text",value:r.dealSellPrice,precision:r.pointPrice,onChange:this.onChange.bind(this,"sellprice"),onBlur:this.checkTradePrice.bind(this,"sell")}),E.default.createElement("i",null,r.baseCurrencyNameEn))),E.default.createElement("li",{className:"item-num"},E.default.createElement("label",null,UPEX.lang.template("卖出量")),E.default.createElement("div",{className:"input-box"},E.default.createElement(k.default,{type:"text",value:r.dealSellNum,precision:r.pointNum,onChange:this.onChange.bind(this,"sellnum"),onBlur:this.checkTradeNumber.bind(this,"sell")}),E.default.createElement("i",null,r.currencyNameEn))),E.default.createElement("li",{className:"item-slider"},E.default.createElement("div",{className:"slider-box"},E.default.createElement(d.default,(t={defaultValue:0,tipFormatter:null,marks:l},n(t,"tipFormatter",function(e){return e+"%"}),n(t,"onChange",this.onChangeSellSlider),n(t,"value",r.sellSliderValue),n(t,"disabled",!a.isLogin),t)))),E.default.createElement("li",{className:"hidden"},E.default.createElement("label",null,UPEX.lang.template("手续费")),E.default.createElement("em",null,r.dealSellFee,"(",r.currencyNameEn,")")),E.default.createElement("li",{className:"item-total"},E.default.createElement("span",null,UPEX.lang.template("金额")),E.default.createElement("em",null,r.dealSellTotalAmount),E.default.createElement("span",null,r.baseCurrencyNameEn)),E.default.createElement("li",null,E.default.createElement("button",{type:"button",className:"btn sell",disabled:!a.isLogin,onClick:this.submitOrder.bind(this,"sell")},UPEX.lang.template("卖出"))))))),E.default.createElement(w.default,{ref:"pwdpop",prefix:"antd-modal-"+r.theme}))}}]),t}(g.Component))||s)||s;t.default=N},1229:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(15),l=a(n),o=r(7),i=a(o),u=r(3),s=a(u),c=r(10),d=a(c),f=r(4),p=a(f),m=r(5),h=a(m),y=r(0),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(y),b=r(1230),g=a(b),E=r(1233),S=a(E),P=r(1110),C=a(P),w=r(131),_=a(w),k=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&(r[a[n]]=e[a[n]]);return r},N=function(e){function t(e){(0,s.default)(this,t);var r=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.toggleTooltipVisible=function(e,t){r.setState(function(r){var a=r.visibles;return{visibles:(0,i.default)({},a,(0,l.default)({},e,t))}})},r.handleWithTooltip=function(e){var t=e.value,a=e.dragging,n=e.index,l=k(e,["value","dragging","index"]),o=r.props,u=o.tooltipPrefixCls,s=o.tipFormatter,c=r.state.visibles,d=!!s&&(c[n]||a);return v.createElement(_.default,{prefixCls:u,title:s?s(t):"",visible:d,placement:"top",transitionName:"zoom-down",key:n},v.createElement(C.default,(0,i.default)({},l,{value:t,onMouseEnter:function(){return r.toggleTooltipVisible(n,!0)},onMouseLeave:function(){return r.toggleTooltipVisible(n,!1)}})))},r.saveSlider=function(e){r.rcSlider=e},r.state={visibles:{}},r}return(0,h.default)(t,e),(0,d.default)(t,[{key:"focus",value:function(){this.rcSlider.focus()}},{key:"blur",value:function(){this.rcSlider.focus()}},{key:"render",value:function(){var e=this.props,t=e.range,r=k(e,["range"]);return t?v.createElement(S.default,(0,i.default)({},r,{ref:this.saveSlider,handle:this.handleWithTooltip})):v.createElement(g.default,(0,i.default)({},r,{ref:this.saveSlider,handle:this.handleWithTooltip}))}}]),t}(v.Component);t.default=N,N.defaultProps={prefixCls:"ant-slider",tooltipPrefixCls:"ant-tooltip",tipFormatter:function(e){return e.toString()}},e.exports=t.default},1230:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(7),l=a(n),o=r(3),i=a(o),u=r(4),s=a(u),c=r(5),d=a(c),f=r(0),p=a(f),m=r(2),h=a(m),y=r(42),v=(a(y),r(1108)),b=a(v),g=r(1109),E=a(g),S=r(1064),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(S),C=function(e){function t(r){(0,i.default)(this,t);var a=(0,s.default)(this,e.call(this,r));a.onEnd=function(){a.setState({dragging:!1}),a.removeDocumentEvents(),a.props.onAfterChange(a.getValue())};var n=void 0!==r.defaultValue?r.defaultValue:r.min,l=void 0!==r.value?r.value:n;return a.state={value:a.trimAlignValue(l),dragging:!1},a}return(0,d.default)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.autoFocus,r=e.disabled;t&&!r&&this.focus()},t.prototype.componentWillReceiveProps=function(e){if("value"in e||"min"in e||"max"in e){var t=this.state.value,r=void 0!==e.value?e.value:t,a=this.trimAlignValue(r,e);a!==t&&(this.setState({value:a}),P.isValueOutOfRange(r,e)&&this.props.onChange(a))}},t.prototype.onChange=function(e){var t=this.props;!("value"in t)&&this.setState(e);var r=e.value;t.onChange(r)},t.prototype.onStart=function(e){this.setState({dragging:!0});var t=this.props,r=this.getValue();t.onBeforeChange(r);var a=this.calcValueByPos(e);this.startValue=a,this.startPosition=e,a!==r&&this.onChange({value:a})},t.prototype.onMove=function(e,t){P.pauseEvent(e);var r=this.state.value,a=this.calcValueByPos(t);a!==r&&this.onChange({value:a})},t.prototype.onKeyboard=function(e){var t=P.getKeyboardValueMutator(e);if(t){P.pauseEvent(e);var r=this.state,a=r.value,n=t(a,this.props),l=this.trimAlignValue(n);if(l===a)return;this.onChange({value:l})}},t.prototype.getValue=function(){return this.state.value},t.prototype.getLowerBound=function(){return this.props.min},t.prototype.getUpperBound=function(){return this.state.value},t.prototype.trimAlignValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,l.default)({},this.props,t),a=P.ensureValueInRange(e,r);return P.ensureValuePrecision(a,r)},t.prototype.render=function(){var e=this,t=this.props,r=t.prefixCls,a=t.vertical,n=t.included,o=t.disabled,i=t.minimumTrackStyle,u=t.trackStyle,s=t.handleStyle,c=t.min,d=t.max,f=t.handle,m=this.state,h=m.value,y=m.dragging,v=this.calcOffset(h),g=f({className:r+"-handle",vertical:a,offset:v,value:h,dragging:y,disabled:o,min:c,max:d,index:0,style:s[0]||s,ref:function(t){return e.saveHandle(0,t)}}),E=u[0]||u;return{tracks:p.default.createElement(b.default,{className:r+"-track",vertical:a,included:n,offset:0,length:v,style:(0,l.default)({},i,E)}),handles:g}},t}(p.default.Component);C.propTypes={defaultValue:h.default.number,value:h.default.number,disabled:h.default.bool,autoFocus:h.default.bool},t.default=(0,E.default)(C),e.exports=t.default},1231:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(7),l=a(n),o=r(0),i=a(o),u=r(8),s=a(u),c=r(42),d=a(c),f=function(e,t,r,a,n,l){(0,d.default)(!r||a>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var o=Object.keys(t).map(parseFloat);if(r)for(var i=n;i<=l;i+=a)o.indexOf(i)>=0||o.push(i);return o},p=function(e){var t=e.prefixCls,r=e.vertical,a=e.marks,n=e.dots,o=e.step,u=e.included,c=e.lowerBound,d=e.upperBound,p=e.max,m=e.min,h=e.dotStyle,y=e.activeDotStyle,v=p-m,b=f(0,a,n,o,m,p).map(function(e){var a,n=Math.abs(e-m)/v*100+"%",o=!u&&e===d||u&&e<=d&&e>=c,f=r?(0,l.default)({bottom:n},h):(0,l.default)({left:n},h);o&&(f=(0,l.default)({},f,y));var p=(0,s.default)((a={},a[t+"-dot"]=!0,a[t+"-dot-active"]=o,a));return i.default.createElement("span",{className:p,style:f,key:e})});return i.default.createElement("div",{className:t+"-step"},b)};t.default=p,e.exports=t.default},1232:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(7),l=a(n),o=r(0),i=a(o),u=r(8),s=a(u),c=function(e){var t=e.className,r=e.vertical,a=e.marks,n=e.included,o=e.upperBound,u=e.lowerBound,c=e.max,d=e.min,f=Object.keys(a),p=f.length,m=p>1?100/(p-1):100,h=.9*m,y=c-d,v=f.map(parseFloat).sort(function(e,t){return e-t}).map(function(e){var c,f=a[e],p="object"==typeof f&&!i.default.isValidElement(f),m=p?f.label:f;if(!m)return null;var v=!n&&e===o||n&&e<=o&&e>=u,b=(0,s.default)((c={},c[t+"-text"]=!0,c[t+"-text-active"]=v,c)),g={marginBottom:"-50%",bottom:(e-d)/y*100+"%"},E={width:h+"%",marginLeft:-h/2+"%",left:(e-d)/y*100+"%"},S=r?g:E,P=p?(0,l.default)({},S,f.style):S;return i.default.createElement("span",{className:b,style:P,key:e},m)});return i.default.createElement("div",{className:t},v)};t.default=c,e.exports=t.default},1233:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(7),l=a(n),o=r(3),i=a(o),u=r(4),s=a(u),c=r(5),d=a(c),f=r(0),p=a(f),m=r(2),h=a(m),y=r(8),v=a(y),b=r(71),g=a(b),E=r(42),S=a(E),P=r(1108),C=a(P),w=r(1109),_=a(w),k=r(1064),N=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(k),T=function(e){function t(r){(0,i.default)(this,t);var a=(0,s.default)(this,e.call(this,r));a.onEnd=function(){a.setState({handle:null}),a.removeDocumentEvents(),a.props.onAfterChange(a.getValue())};var n=r.count,l=r.min,o=r.max,u=Array.apply(null,Array(n+1)).map(function(){return l}),c="defaultValue"in r?r.defaultValue:u,d=void 0!==r.value?r.value:c,f=d.map(function(e){return a.trimAlignValue(e)}),p=f[0]===o?0:f.length-1;return a.state={handle:null,recent:p,bounds:f},a}return(0,d.default)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;if(("value"in e||"min"in e||"max"in e)&&(this.props.min!==e.min||this.props.max!==e.max||!(0,g.default)(this.props.value,e.value))){var r=this.state.bounds,a=e.value||r,n=a.map(function(r){return t.trimAlignValue(r,e)});n.length===r.length&&n.every(function(e,t){return e===r[t]})||(this.setState({bounds:n}),r.some(function(t){return N.isValueOutOfRange(t,e)})&&this.props.onChange(n))}},t.prototype.onChange=function(e){var t=this.props;"value"in t?void 0!==e.handle&&this.setState({handle:e.handle}):this.setState(e);var r=(0,l.default)({},this.state,e),a=r.bounds;t.onChange(a)},t.prototype.onStart=function(e){var t=this.props,r=this.state,a=this.getValue();t.onBeforeChange(a);var n=this.calcValueByPos(e);this.startValue=n,this.startPosition=e;var l=this.getClosestBound(n),o=this.getBoundNeedMoving(n,l);if(this.setState({handle:o,recent:o}),n!==a[o]){var i=[].concat(r.bounds);i[o]=n,this.onChange({bounds:i})}},t.prototype.onMove=function(e,t){N.pauseEvent(e);var r=this.props,a=this.state,n=this.calcValueByPos(t);if(n!==a.bounds[a.handle]){var l=[].concat(a.bounds);l[a.handle]=n;var o=a.handle;if(!1!==r.pushable){var i=a.bounds[o];this.pushSurroundingHandles(l,o,i)}else r.allowCross&&(l.sort(function(e,t){return e-t}),o=l.indexOf(n));this.onChange({handle:o,bounds:l})}},t.prototype.onKeyboard=function(){(0,S.default)(!0,"Keyboard support is not yet supported for ranges.")},t.prototype.getValue=function(){return this.state.bounds},t.prototype.getClosestBound=function(e){for(var t=this.state.bounds,r=0,a=1;a<t.length-1;++a)e>t[a]&&(r=a);return Math.abs(t[r+1]-e)<Math.abs(t[r]-e)&&(r+=1),r},t.prototype.getBoundNeedMoving=function(e,t){var r=this.state,a=r.bounds,n=r.recent,l=t,o=a[t+1]===a[t];return o&&a[n]===a[t]&&(l=n),o&&e!==a[t+1]&&(l=e<a[t+1]?t:t+1),l},t.prototype.getLowerBound=function(){return this.state.bounds[0]},t.prototype.getUpperBound=function(){var e=this.state.bounds;return e[e.length-1]},t.prototype.getPoints=function(){var e=this.props,t=e.marks,r=e.step,a=e.min,n=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==r){var i=(0,l.default)({},t);if(null!==r)for(var u=a;u<=n;u+=r)i[u]=u;var s=Object.keys(i).map(parseFloat);s.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:r,points:s}}return this._getPointsCache.points},t.prototype.pushSurroundingHandles=function(e,t,r){var a=this.props.pushable,n=e[t],l=0;if(e[t+1]-n<a&&(l=1),n-e[t-1]<a&&(l=-1),0!==l){var o=t+l,i=l*(e[o]-n);this.pushHandle(e,o,l,a-i)||(e[t]=r)}},t.prototype.pushHandle=function(e,t,r,a){for(var n=e[t],l=e[t];r*(l-n)<a;){if(!this.pushHandleOnePoint(e,t,r))return e[t]=n,!1;l=e[t]}return!0},t.prototype.pushHandleOnePoint=function(e,t,r){var a=this.getPoints(),n=a.indexOf(e[t]),l=n+r;if(l>=a.length||l<0)return!1;var o=t+r,i=a[l],u=this.props.pushable,s=r*(e[o]-i);return!!this.pushHandle(e,o,r,u-s)&&(e[t]=i,!0)},t.prototype.trimAlignValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,l.default)({},this.props,t),a=N.ensureValueInRange(e,r),n=this.ensureValueNotConflict(a,r);return N.ensureValuePrecision(n,r)},t.prototype.ensureValueNotConflict=function(e,t){var r=t.allowCross,a=this.state||{},n=a.handle,l=a.bounds;if(!r&&null!=n){if(n>0&&e<=l[n-1])return l[n-1];if(n<l.length-1&&e>=l[n+1])return l[n+1]}return e},t.prototype.render=function(){var e=this,t=this.state,r=t.handle,a=t.bounds,n=this.props,l=n.prefixCls,o=n.vertical,i=n.included,u=n.disabled,s=n.min,c=n.max,d=n.handle,f=n.trackStyle,m=n.handleStyle,h=a.map(function(t){return e.calcOffset(t)}),y=l+"-handle",b=a.map(function(t,a){var n;return d({className:(0,v.default)((n={},n[y]=!0,n[y+"-"+(a+1)]=!0,n)),vertical:o,offset:h[a],value:t,dragging:r===a,index:a,min:s,max:c,disabled:u,style:m[a],ref:function(t){return e.saveHandle(a,t)}})});return{tracks:a.slice(0,-1).map(function(e,t){var r,a=t+1,n=(0,v.default)((r={},r[l+"-track"]=!0,r[l+"-track-"+a]=!0,r));return p.default.createElement(C.default,{className:n,vertical:o,included:i,offset:h[a-1],length:h[a]-h[a-1],style:f[t],key:a})}),handles:b}},t}(p.default.Component);T.displayName="Range",T.propTypes={defaultValue:h.default.arrayOf(h.default.number),value:h.default.arrayOf(h.default.number),count:h.default.number,pushable:h.default.oneOfType([h.default.bool,h.default.number]),allowCross:h.default.bool,disabled:h.default.bool},T.defaultProps={count:1,allowCross:!0,pushable:!1},t.default=(0,_.default)(T),e.exports=t.default},1234:function(e,t,r){"use strict";r(23),r(1235),r(198)},1235:function(e,t){},1236:function(e,t,r){function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s=r(68),c=a(s),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(69);var f=r(0),p=a(f),m=r(11),h=(a(m),u=i=function(e){function t(e){n(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.show=function(e){r.onSubmit=e,r.setState({validPwd:!0,visible:!0},function(){r.refs.input.value=""})},r.handleCancel=function(e){r.hideModal()},r.handleSubmit=function(e){var t=r.refs.input.value.trim();t&&(r.handleCancel(),r.onSubmit(t))},r.hideModal=function(){r.setState({visible:!1})},r.onBlur=function(e){r.refs.input.value.trim()?r.setState({validPwd:!0}):r.setState({validPwd:!1})},r.state={validPwd:!0,visible:!1},r}return o(t,e),d(t,[{key:"render",value:function(){return p.default.createElement(c.default,{ref:"modal",wrapClassName:"vertical-center-modal "+this.props.prefix,title:UPEX.lang.template("输入资金密码"),visible:this.state.visible,onCancel:this.handleCancel.bind(this),footer:null},p.default.createElement("div",{className:"popup-trade-password"},p.default.createElement("div",{className:"input-area clearfix"},p.default.createElement("div",{className:(this.state.validPwd,"input-box")},p.default.createElement("input",{ref:"input",type:"password",onBlur:this.onBlur.bind(this)})),p.default.createElement("p",{className:"warn-tip"})),p.default.createElement("button",{type:"button",className:"submit",onClick:this.handleSubmit.bind(this)},UPEX.lang.template("提交"))))}}]),t}(f.Component),i.defaultProps={prefix:""},u);t.default=h}});
//# sourceMappingURL=webtrade.3d56c.chunk.js.map